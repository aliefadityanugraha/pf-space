import{e as V,J as M,f as A,g as c,h as s,a as t,r as b,w as r,B as i,U as _,k as n,A as $,E as j,c as w,L as h,F as L,aG as y,aA as U,D as p,C as m,z as B,l as g,m as D,K as F,n as K,G as N,t as C,H as G,o as d}from"./index-nbuW1C-Z.js";import{A as I}from"./SidebarAdmin-CYotWZnb.js";import{_ as z}from"./PageHeader-CBGTbqNy.js";import{S as J}from"./save-CGtZI-as.js";import{S as q}from"./settings-D7S0Yl72.js";import{C as E}from"./circle-alert-DALtc_17.js";import"./shield-BaoCScyT.js";import"./file-text-Qj2K4aNE.js";const H=V("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const O=V("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Q={class:"min-h-screen bg-stone-100"},R={class:"flex items-center gap-2 text-xs font-mono uppercase tracking-wider mb-4"},W={class:"p-0 md:p-0 flex-1 w-full space-y-8 mt-8"},X={key:0,class:"flex flex-col items-center justify-center py-20"},Y={class:"space-y-6"},Z={class:"flex items-center gap-3 mb-2"},ee={class:"flex items-center gap-2 text-stone-700"},te={class:"flex items-center gap-3"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},se={class:"space-y-4"},ne={class:"block text-xs font-bold uppercase tracking-widest mb-1.5 flex items-center gap-2"},oe={class:"block text-xs font-bold uppercase tracking-widest mb-1.5 flex items-center gap-2"},le={class:"space-y-4 bg-stone-50 p-6 border-2 border-black border-dashed"},re={class:"block text-[10px] font-bold uppercase tracking-widest mb-1 text-stone-500 flex items-center gap-1"},ie={class:"mt-10"},de={class:"bg-stone-200 p-8 border-2 border-black border-dashed flex items-center justify-center"},ue={class:"bg-brand-cream border-4 border-black shadow-brutal p-6 w-full max-w-sm"},ce={class:"w-10 h-10 bg-brand-orange border-2 border-black shadow-brutal-sm flex items-center justify-center mb-4"},be={class:"font-display font-bold text-xl mb-2"},pe={class:"text-xs text-stone-600 line-clamp-3 mb-4"},me={key:0,class:"px-4 py-2 bg-brand-red text-white border-2 border-black text-[10px] font-bold uppercase text-center w-full"},fe={__name:"Settings",setup(xe){const v=b(!1),f=b(!0),u=b(!1),{showToast:x}=G(),a=b({is_active:!1,title:"",content:"",button_text:"",button_url:"",type:"modal"}),P=async()=>{f.value=!0;try{const l=await C.get("/api/settings/announcement_modal");l.data&&l.data.value&&(a.value=l.data.value)}catch(l){console.error("Failed to fetch settings:",l),x("Gagal memuat pengaturan","error")}finally{f.value=!1}},S=async()=>{u.value=!0;try{await C.post("/api/settings/announcement_modal",{value:a.value,is_public:!0}),x("Pengaturan berhasil disimpan")}catch(l){console.error("Failed to save settings:",l),x("Gagal menyimpan pengaturan","error")}finally{u.value=!1}};return A(P),(l,e)=>{const k=_("router-link"),T=_("FileText");return d(),c("div",Q,[s(I,{"onUpdate:collapsed":e[0]||(e[0]=o=>v.value=o)}),t("main",{class:p(["p-4 md:p-8 transition-all duration-300",v.value?"ml-14":"ml-56"])},[t("nav",R,[s(k,{to:"/",class:"text-brand-teal hover:underline"},{default:r(()=>[...e[6]||(e[6]=[i("Beranda",-1)])]),_:1}),e[9]||(e[9]=t("span",{class:"text-stone-400"},"/",-1)),s(k,{to:"/admin",class:"text-stone-600 hover:underline"},{default:r(()=>[...e[7]||(e[7]=[i("Administrasi",-1)])]),_:1}),e[10]||(e[10]=t("span",{class:"text-stone-400"},"/",-1)),s(n($),{variant:"outline",class:"bg-orange-100 text-orange-700 border-orange-300"},{default:r(()=>[...e[8]||(e[8]=[i("Pengaturan",-1)])]),_:1})]),s(z,{title:"Pengaturan Sistem",description:"Konfigurasi parameter global dan fitur platform.",icon:n(q),"icon-color":"bg-stone-900"},{actions:r(()=>[s(n(j),{onClick:S,disabled:u.value,class:"bg-brand-teal text-white border-2 border-black shadow-brutal hover:shadow-brutal-sm hover:translate-x-[2px] hover:translate-y-[2px] transition-all gap-2"},{default:r(()=>[u.value?(d(),w(n(h),{key:0,class:"w-4 h-4 animate-spin"})):(d(),w(n(J),{key:1,class:"w-4 h-4"})),e[11]||(e[11]=i(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])]),_:1},8,["icon"]),t("div",W,[f.value?(d(),c("div",X,[s(n(h),{class:"w-10 h-10 animate-spin text-brand-teal mb-4"}),e[12]||(e[12]=t("p",{class:"font-mono text-sm uppercase tracking-widest text-stone-500"},"Menyiapkan konfigurasi...",-1))])):(d(),c(L,{key:1},[t("section",Y,[t("div",Z,[s(n(y),{class:"w-6 h-6 text-brand-orange"}),e[13]||(e[13]=t("h2",{class:"text-xl font-display font-bold uppercase tracking-tight"},"Announcement Modal",-1))]),s(n(N),{class:"border-2 border-black shadow-brutal rounded-none overflow-hidden"},{default:r(()=>[s(n(U),{class:"bg-stone-50 border-b-2 border-black flex flex-row items-center justify-between py-4"},{default:r(()=>[t("div",ee,[s(n(E),{class:"w-4 h-4"}),e[14]||(e[14]=t("span",{class:"text-xs font-bold uppercase tracking-widest"},"Konfigurasi Pengumuman Utama",-1))]),t("div",te,[t("span",{class:p([a.value.is_active?"text-green-600":"text-stone-400","text-[10px] font-bold uppercase tracking-widest"])},m(a.value.is_active?"Aktif":"Non-aktif"),3),t("button",{onClick:e[1]||(e[1]=o=>a.value.is_active=!a.value.is_active),class:p([a.value.is_active?"bg-green-500":"bg-stone-300","w-12 h-6 border-2 border-black rounded-full relative transition-colors"])},[t("div",{class:p([a.value.is_active?"translate-x-6":"translate-x-0","absolute top-0.5 left-0.5 w-4 h-4 bg-white border-2 border-black rounded-full transition-transform"])},null,2)],2)])]),_:1}),s(n(B),{class:"p-6 md:p-8 space-y-6"},{default:r(()=>[t("div",ae,[t("div",se,[t("div",null,[t("label",ne,[s(n(O),{class:"w-3 h-3 text-stone-400"}),e[15]||(e[15]=i(" Judul Pengumuman ",-1))]),s(n(g),{modelValue:a.value.title,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.title=o),placeholder:"Contoh: Pendaftaran PKM-PM 2024 Dibuka!",class:"border-2 border-black focus-visible:ring-0 text-lg font-bold"},null,8,["modelValue"])]),t("div",null,[t("label",oe,[s(T,{class:"w-3 h-3 text-stone-400"}),e[16]||(e[16]=i(" Isi Pesan ",-1))]),D(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.content=o),rows:"5",placeholder:"Tuliskan detail pengumuman di sini...",class:"w-full p-4 border-2 border-black focus:border-brand-teal focus:outline-none text-sm leading-relaxed"},null,512),[[F,a.value.content]])])]),t("div",le,[e[19]||(e[19]=t("h3",{class:"text-xs font-bold uppercase tracking-widest text-stone-400 mb-4"},"Aksi Tombol (Optional)",-1)),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-[10px] font-bold uppercase tracking-widest mb-1 text-stone-500"},"Teks Tombol",-1)),s(n(g),{modelValue:a.value.button_text,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.button_text=o),placeholder:"Contoh: Daftar Sekarang",class:"border-2 border-black focus-visible:ring-0"},null,8,["modelValue"])]),t("div",null,[t("label",re,[s(n(H),{class:"w-3 h-3"}),e[18]||(e[18]=i(" Link Tujuan ",-1))]),s(n(g),{modelValue:a.value.button_url,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.button_url=o),placeholder:"Contoh: /about atau https://domain.com",class:"border-2 border-black focus-visible:ring-0"},null,8,["modelValue"])]),e[20]||(e[20]=t("div",{class:"pt-4 mt-4 border-t border-stone-200"},[t("p",{class:"text-[10px] text-stone-400 italic"}," * Modal ini akan muncul satu kali per sesi browser untuk setiap pengguna ketika baru masuk ke halaman utama. ")],-1))])]),t("div",ie,[e[21]||(e[21]=t("h3",{class:"text-xs font-bold uppercase tracking-widest text-stone-400 mb-4"},"Preview Tampilan",-1)),t("div",de,[t("div",ue,[t("div",ce,[s(n(y),{class:"w-5 h-5 text-white"})]),t("h4",be,m(a.value.title||"Judul Kosong"),1),t("p",pe,m(a.value.content||"Isi pesan akan tampil di sini..."),1),a.value.button_text?(d(),c("div",me,m(a.value.button_text),1)):K("",!0)])])])]),_:1})]),_:1})]),e[22]||(e[22]=t("div",{class:"py-10 border-t-2 border-black border-dashed"},[t("p",{class:"text-center font-mono text-[10px] uppercase tracking-[0.2em] text-stone-400"}," Pengaturan Tambahan Akan Datang ")],-1))],64))])],2)])}}},Ve=M(fe,[["__scopeId","data-v-014c1dea"]]);export{Ve as default};

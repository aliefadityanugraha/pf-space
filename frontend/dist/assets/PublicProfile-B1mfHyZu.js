import{u as w,f as k,a4 as $,c as _,w as p,g as l,n as g,r as m,a as e,h as r,k as n,z as j,C as i,V as C,G as B,R as x,F as P,q as D,t as F,y as K,O as y,o as a,a3 as A}from"./index-Cb00d5qB.js";import{_ as V}from"./PageLayout-RD1f7NYy.js";import{C as N}from"./calendar-CgMvX4Ns.js";const U={key:0,class:"mb-12 flex flex-col items-center justify-center py-12"},z={key:1,class:"mb-12"},L={class:"-mt-16 mb-4 flex justify-center"},R={class:"w-32 h-32 rounded-full border-4 border-white shadow-brutal bg-white overflow-hidden flex items-center justify-center"},S=["src","alt"],q={key:1,class:"w-full h-full bg-brand-yellow flex items-center justify-center text-stone-900"},E={class:"text-4xl font-bold font-display"},G={class:"text-3xl font-bold font-display mb-2"},H={class:"flex items-center justify-center gap-4 text-stone-500 text-sm mb-6"},I={class:"flex items-center gap-1 bg-stone-100 px-3 py-1 rounded-full border border-stone-200"},M={class:"flex items-center gap-1 bg-stone-100 px-3 py-1 rounded-full border border-stone-200"},O={key:2,class:"text-center py-20"},T={class:"text-stone-600"},J={key:3,class:"max-w-7xl mx-auto px-4"},Q={class:"flex items-center gap-3 mb-8"},W={class:"bg-brand-red text-white p-2 border-2 border-black shadow-sm"},X={class:"bg-stone-200 px-3 py-1 rounded-full text-sm font-bold border-2 border-black"},Y={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},Z={key:1,class:"text-center py-12 bg-white border-2 border-dashed border-stone-300 rounded-lg"},le={__name:"PublicProfile",setup(ee){const h=K(),b=m(!0),t=m(null),c=m([]),u=m(null);w({title:()=>t.value?`${t.value.name} - Profil Kontributor`:"Profil Kontributor"});const v=async()=>{b.value=!0,u.value=null;try{const o=await F.get(`/api/users/${h.params.id}`),s=o.data||{};s.image=y(s.image),t.value=s;const d=Array.isArray(o.data?.films)?o.data.films:[];c.value=d.map(f=>({...f,gambar_poster:y(f.gambar_poster)}))}catch(o){console.error("Failed to fetch profile:",o),u.value="Pengguna tidak ditemukan atau terjadi kesalahan"}finally{b.value=!1}};return k(v),$(()=>h.params.id,v),(o,s)=>(a(),_(V,null,{default:p(()=>[b.value?(a(),l("div",U,[...s[0]||(s[0]=[e("div",{class:"w-32 h-32 rounded-full bg-stone-200 animate-pulse mb-4 border-2 border-black"},null,-1),e("div",{class:"h-8 w-48 bg-stone-200 animate-pulse mb-2"},null,-1),e("div",{class:"h-4 w-32 bg-stone-200 animate-pulse"},null,-1)])])):t.value?(a(),l("div",z,[r(n(B),{class:"max-w-7xl mx-auto bg-white border-2 border-black shadow-brutal overflow-hidden"},{default:p(()=>[s[1]||(s[1]=e("div",{class:"h-32 bg-stone-100 border-b-2 border-black relative overflow-hidden"},[e("div",{class:"absolute inset-0 opacity-[0.1]",style:{"background-image":"radial-gradient(#000 1px, transparent 1px)","background-size":"16px 16px"}})],-1)),r(n(j),{class:"relative px-6 pb-6 pt-0 text-center"},{default:p(()=>[e("div",L,[e("div",R,[t.value.image?(a(),l("img",{key:0,src:t.value.image,alt:t.value.name,class:"w-full h-full object-cover"},null,8,S)):(a(),l("div",q,[e("span",E,i(t.value.name.charAt(0).toUpperCase()),1)]))])]),e("h1",G,i(t.value.name),1),e("div",H,[e("div",I,[r(n(C),{class:"w-3.5 h-3.5"}),e("span",null,i(t.value.role_id===2?"Kreator":"Anggota"),1)]),e("div",M,[r(n(N),{class:"w-3.5 h-3.5"}),e("span",null,"Bergabung "+i(new Date(t.value.created_at).toLocaleDateString("id-ID",{month:"long",year:"numeric"})),1)])])]),_:1})]),_:1})])):u.value?(a(),l("div",O,[s[2]||(s[2]=e("h2",{class:"text-xl font-bold text-red-600 mb-2"},"Terjadi Kesalahan",-1)),e("p",T,i(u.value),1)])):g("",!0),t.value?(a(),l("div",J,[e("div",Q,[e("div",W,[r(n(x),{class:"w-5 h-5"})]),s[3]||(s[3]=e("h2",{class:"text-2xl font-bold font-display"},"Daftar Karya",-1)),e("span",X,i(c.value.length),1)]),c.value.length>0?(a(),l("div",Y,[(a(!0),l(P,null,D(c.value,d=>(a(),_(A,{key:d.film_id,archive:d,onClick:f=>o.$router.push(`/archive/${d.slug}`),class:"cursor-pointer h-full"},null,8,["archive","onClick"]))),128))])):(a(),l("div",Z,[r(n(x),{class:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s[4]||(s[4]=e("p",{class:"text-stone-500 font-medium"},"Belum ada karya yang dipublikasikan.",-1))]))])):g("",!0)]),_:1}))}};export{le as default};

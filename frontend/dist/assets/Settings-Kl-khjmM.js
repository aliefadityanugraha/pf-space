import{e as C,J as M,f as S,g as c,a as t,h as s,w as r,B as i,a0 as T,k as n,A as $,E as j,r as f,c as k,L as _,aD as A,F as D,aR as w,aK as L,D as x,C as b,z as B,l as g,m as K,R as N,n as U,G as F,t as h,H as I,o as d}from"./index-Co7LmOIS.js";import{_ as z}from"./PageHeader-DFUzlPy8.js";import{S as G}from"./save-Mn3ihpZx.js";import{C as J}from"./circle-alert-pbTXBo6T.js";const q=C("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const y=C("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),E={class:"p-4 md:p-8"},R={class:"flex items-center gap-2 text-xs font-mono uppercase tracking-wider mb-4"},H={class:"p-0 md:p-0 flex-1 w-full space-y-8 mt-8"},O={key:0,class:"flex flex-col items-center justify-center py-20"},Q={class:"space-y-6"},W={class:"flex items-center gap-3 mb-2"},X={class:"flex items-center gap-2 text-stone-700"},Y={class:"flex items-center gap-3"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ee={class:"space-y-4"},te={class:"block text-xs font-bold uppercase tracking-widest mb-1.5 flex items-center gap-2"},ae={class:"block text-xs font-bold uppercase tracking-widest mb-1.5 flex items-center gap-2"},se={class:"space-y-4 bg-stone-50 p-6 border-2 border-black border-dashed"},ne={class:"block text-[10px] font-bold uppercase tracking-widest mb-1 text-stone-500 flex items-center gap-1"},oe={class:"mt-10"},le={class:"bg-stone-200 p-8 border-2 border-black border-dashed flex items-center justify-center"},re={class:"bg-brand-cream border-4 border-black shadow-brutal p-6 w-full max-w-sm"},ie={class:"w-10 h-10 bg-brand-orange border-2 border-black shadow-brutal-sm flex items-center justify-center mb-4"},de={class:"font-display font-bold text-xl mb-2"},ue={class:"text-xs text-stone-600 line-clamp-3 mb-4"},ce={key:0,class:"px-4 py-2 bg-brand-red text-white border-2 border-black text-[10px] font-bold uppercase text-center w-full"},be={__name:"Settings",setup(pe){const p=f(!0),u=f(!1),{showToast:m}=I(),a=f({is_active:!1,title:"",content:"",button_text:"",button_url:"",type:"modal"}),V=async()=>{p.value=!0;try{const o=await h.get("/api/settings/announcement_modal");o.data&&o.data.value&&(a.value=o.data.value)}catch(o){console.error("Failed to fetch settings:",o),m("Gagal memuat pengaturan","error")}finally{p.value=!1}},P=async()=>{u.value=!0;try{await h.post("/api/settings/announcement_modal",{value:a.value,is_public:!0}),m("Pengaturan berhasil disimpan")}catch(o){console.error("Failed to save settings:",o),m("Gagal menyimpan pengaturan","error")}finally{u.value=!1}};return S(V),(o,e)=>{const v=T("router-link");return d(),c("div",E,[t("nav",R,[s(v,{to:"/",class:"text-brand-teal hover:underline"},{default:r(()=>[...e[5]||(e[5]=[i("Beranda",-1)])]),_:1}),e[8]||(e[8]=t("span",{class:"text-stone-400"},"/",-1)),s(v,{to:"/admin",class:"text-stone-600 hover:underline"},{default:r(()=>[...e[6]||(e[6]=[i("Administrasi",-1)])]),_:1}),e[9]||(e[9]=t("span",{class:"text-stone-400"},"/",-1)),s(n($),{variant:"outline",class:"bg-orange-100 text-orange-700 border-orange-300"},{default:r(()=>[...e[7]||(e[7]=[i("Pengaturan",-1)])]),_:1})]),s(z,{title:"Pengaturan Sistem",description:"Konfigurasi parameter global dan fitur platform.",icon:n(A),"icon-color":"bg-stone-900"},{actions:r(()=>[s(n(j),{onClick:P,disabled:u.value,class:"bg-brand-teal text-white border-2 border-black shadow-brutal hover:shadow-brutal-sm hover:translate-x-[2px] hover:translate-y-[2px] transition-all gap-2"},{default:r(()=>[u.value?(d(),k(n(_),{key:0,class:"w-4 h-4 animate-spin"})):(d(),k(n(G),{key:1,class:"w-4 h-4"})),e[10]||(e[10]=i(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])]),_:1},8,["icon"]),t("div",H,[p.value?(d(),c("div",O,[s(n(_),{class:"w-10 h-10 animate-spin text-brand-teal mb-4"}),e[11]||(e[11]=t("p",{class:"font-mono text-sm uppercase tracking-widest text-stone-500"},"Menyiapkan konfigurasi...",-1))])):(d(),c(D,{key:1},[t("section",Q,[t("div",W,[s(n(w),{class:"w-6 h-6 text-brand-orange"}),e[12]||(e[12]=t("h2",{class:"text-xl font-display font-bold uppercase tracking-tight"},"Announcement Modal",-1))]),s(n(F),{class:"border-2 border-black shadow-brutal rounded-none overflow-hidden"},{default:r(()=>[s(n(L),{class:"bg-stone-50 border-b-2 border-black flex flex-row items-center justify-between py-4"},{default:r(()=>[t("div",X,[s(n(J),{class:"w-4 h-4"}),e[13]||(e[13]=t("span",{class:"text-xs font-bold uppercase tracking-widest"},"Konfigurasi Pengumuman Utama",-1))]),t("div",Y,[t("span",{class:x([a.value.is_active?"text-green-600":"text-stone-400","text-[10px] font-bold uppercase tracking-widest"])},b(a.value.is_active?"Aktif":"Non-aktif"),3),t("button",{onClick:e[0]||(e[0]=l=>a.value.is_active=!a.value.is_active),class:x([a.value.is_active?"bg-green-500":"bg-stone-300","w-12 h-6 border-2 border-black rounded-full relative transition-colors"])},[t("div",{class:x([a.value.is_active?"translate-x-6":"translate-x-0","absolute top-0.5 left-0.5 w-4 h-4 bg-white border-2 border-black rounded-full transition-transform"])},null,2)],2)])]),_:1}),s(n(B),{class:"p-6 md:p-8 space-y-6"},{default:r(()=>[t("div",Z,[t("div",ee,[t("div",null,[t("label",te,[s(n(y),{class:"w-3 h-3 text-stone-400"}),e[14]||(e[14]=i(" Judul Pengumuman ",-1))]),s(n(g),{modelValue:a.value.title,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.title=l),placeholder:"Contoh: Pendaftaran PKM-PM 2024 Dibuka!",class:"border-2 border-black focus-visible:ring-0 text-lg font-bold"},null,8,["modelValue"])]),t("div",null,[t("label",ae,[s(n(y),{class:"w-3 h-3 text-stone-400"}),e[15]||(e[15]=i(" Isi Pesan ",-1))]),K(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.content=l),rows:"5",placeholder:"Tuliskan detail pengumuman di sini...",class:"w-full p-4 border-2 border-black focus:border-brand-teal focus:outline-none text-sm leading-relaxed"},null,512),[[N,a.value.content]])])]),t("div",se,[e[18]||(e[18]=t("h3",{class:"text-xs font-bold uppercase tracking-widest text-stone-400 mb-4"},"Aksi Tombol (Optional)",-1)),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-[10px] font-bold uppercase tracking-widest mb-1 text-stone-500"},"Teks Tombol",-1)),s(n(g),{modelValue:a.value.button_text,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.button_text=l),placeholder:"Contoh: Daftar Sekarang",class:"border-2 border-black focus-visible:ring-0"},null,8,["modelValue"])]),t("div",null,[t("label",ne,[s(n(q),{class:"w-3 h-3"}),e[17]||(e[17]=i(" Link Tujuan ",-1))]),s(n(g),{modelValue:a.value.button_url,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.button_url=l),placeholder:"Contoh: /about atau https://domain.com",class:"border-2 border-black focus-visible:ring-0"},null,8,["modelValue"])]),e[19]||(e[19]=t("div",{class:"pt-4 mt-4 border-t border-stone-200"},[t("p",{class:"text-[10px] text-stone-400 italic"}," * Modal ini akan muncul satu kali per sesi browser untuk setiap pengguna ketika baru masuk ke halaman utama. ")],-1))])]),t("div",oe,[e[20]||(e[20]=t("h3",{class:"text-xs font-bold uppercase tracking-widest text-stone-400 mb-4"},"Preview Tampilan",-1)),t("div",le,[t("div",re,[t("div",ie,[s(n(w),{class:"w-5 h-5 text-white"})]),t("h4",de,b(a.value.title||"Judul Kosong"),1),t("p",ue,b(a.value.content||"Isi pesan akan tampil di sini..."),1),a.value.button_text?(d(),c("div",ce,b(a.value.button_text),1)):U("",!0)])])])]),_:1})]),_:1})]),e[21]||(e[21]=t("div",{class:"py-10 border-t-2 border-black border-dashed"},[t("p",{class:"text-center font-mono text-[10px] uppercase tracking-[0.2em] text-stone-400"}," Pengaturan Tambahan Akan Datang ")],-1))],64))])])}}},ve=M(be,[["__scopeId","data-v-8961d906"]]);export{ve as default};

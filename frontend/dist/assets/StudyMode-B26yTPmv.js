import{e as $,J as ze,y as Ne,f as Fe,u as Ue,g as l,a as t,h as r,k as o,a1 as Ee,C as c,r as u,c as C,X as fe,n as m,B as b,D as K,N as ve,p as I,w as R,ae as he,U as f,F as D,q as W,m as z,R as N,af as ke,L as G,a2 as ge,ag as q,Y as F,ah as He,t as T,H as Le,o as s,ai as Ie,aj as Re,Q as We,ad as Ge}from"./index-DK3oBUDH.js";import{V as qe}from"./VideoPlayer-BYaaKKfN.js";import{A as ye}from"./arrow-left-wIRYUTL0.js";import{I as Je}from"./image-Bmnjv9wX.js";import{A as te}from"./award-DdBdZKgp.js";import{C as se}from"./circle-check-DjOstiJn.js";import{C as ae}from"./circle-alert-N13VkYEx.js";import{P as we}from"./plus-C4oeb5-8.js";import{C as Oe}from"./clock-vIybS8Ni.js";import{P as Qe}from"./pencil-CULPBQzY.js";const Xe=$("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Ye=$("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const le=$("list-video",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 19H3",key:"108z41"}],["path",{d:"M15 12.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"ms4nik"}]]);const Ze=$("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);const et=$("monitor-play",[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);const oe=$("sticky-note",[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]]);const _e=$("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),tt={class:"h-screen flex flex-col lg:flex-row bg-stone-950 text-white overflow-hidden"},st={class:"lg:hidden h-14 bg-stone-900 border-b border-white/10 flex items-center justify-between px-4 shrink-0 z-50"},at={class:"text-sm font-bold truncate max-w-[200px]"},lt={class:"hidden lg:block p-6 border-b border-white/10"},ot={key:0},nt={class:"font-display font-medium text-lg text-white leading-tight mb-2"},rt={class:"flex-1 p-4 space-y-6 overflow-y-auto mt-14 lg:mt-0"},it={class:"space-y-2"},dt={key:0},ct={key:0,class:"w-2 h-2 rounded-full bg-white animate-pulse"},ut={key:0,class:"flex-1 flex flex-col min-w-0 relative h-full"},pt={class:"w-full bg-black flex flex-col border-b border-black lg:border-b-2 relative shrink-0 overflow-hidden z-20 min-h-[30vh] lg:h-[50vh]"},bt={key:1,class:"w-full h-full flex flex-col items-center justify-center bg-stone-900 text-stone-600 gap-4"},xt={class:"flex-1 w-full bg-stone-100 relative flex flex-col min-h-0 overflow-hidden"},mt={key:0,class:"flex-1 overflow-y-auto bg-stone-50 p-4 md:p-8 no-scrollbar"},ft={class:"w-full space-y-8 pb-12"},vt={class:"flex items-center justify-between border-b-4 border-black pb-4"},ht={class:"flex items-center gap-4"},kt={class:"w-14 h-14 bg-orange-500 border-2 border-black shadow-brutal-sm flex items-center justify-center"},gt={class:"hidden md:block"},yt={key:0,class:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-500 border-2 border-black text-white text-[11px] font-black uppercase tracking-[0.2em] shadow-[4px_4px_0px_#000]"},wt={key:1,class:"inline-flex items-center gap-2 px-4 py-1.5 bg-orange-500 border-2 border-black text-white text-[11px] font-black uppercase tracking-[0.2em] shadow-[4px_4px_0px_#000]"},_t={class:"md:hidden flex justify-start"},Ct={key:0,class:"inline-flex items-center gap-2 px-3 py-1 bg-green-500 border-2 border-black text-white text-[9px] font-black uppercase tracking-widest shadow-[3px_3px_0px_#000]"},Mt={key:1,class:"inline-flex items-center gap-2 px-3 py-1 bg-orange-500 border-2 border-black text-white text-[9px] font-black uppercase tracking-widest shadow-[3px_3px_0px_#000]"},St={key:0,class:"space-y-6"},jt={key:0,class:"flex flex-col md:flex-row items-center justify-between p-4 bg-orange-50 border-2 border-stone-200 gap-4 mb-6"},Kt={class:"flex items-center gap-3"},Tt=["src"],$t={class:"flex flex-col"},Pt={class:"text-xs font-bold text-orange-600 uppercase tracking-widest"},At={class:"flex flex-col items-end"},Vt={class:"text-[10px] font-bold text-stone-600"},Bt={class:"bg-blue-50 border-2 border-blue-200 p-4 rounded-xl flex items-start gap-3"},Dt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zt={class:"flex justify-between items-center mb-4"},Nt={class:"text-sm font-black uppercase text-stone-900"},Ft={class:"flex items-center gap-2"},Ut=["onUpdate:modelValue"],Et=["onUpdate:modelValue"],Ht={class:"bg-white border-4 border-black p-6 shadow-brutal-md"},Lt={class:"flex justify-end pt-4"},It={key:0,class:"bg-white border-2 border-dashed border-stone-300 p-12 text-center rounded-2xl"},Rt={class:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4"},Wt={key:1,class:"space-y-8"},Gt={class:"flex flex-col md:flex-row items-center justify-between p-4 bg-white border-2 border-black gap-4 shadow-brutal-sm"},qt={class:"flex items-center gap-3"},Jt=["src"],Ot={class:"flex flex-col"},Qt={class:"text-xs font-bold text-brand-teal uppercase tracking-widest"},Xt={class:"flex flex-col items-end"},Yt={class:"text-[10px] font-bold text-stone-600"},Zt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},es={class:"absolute top-0 right-0 p-2 bg-stone-100 border-l-2 border-b-2 border-black font-black text-xl text-brand-teal"},ts={class:"text-xs font-black uppercase text-stone-400 mb-4"},ss={key:0,class:"text-sm font-medium text-stone-800 leading-relaxed italic border-l-4 border-orange-400 pl-4 py-1"},as={key:1,class:"text-xs text-stone-400 italic"},ls={class:"bg-stone-900 text-white border-4 border-black p-8 shadow-brutal-lg"},os={class:"flex items-center gap-3 mb-6"},ns={class:"text-lg font-medium leading-relaxed text-stone-300"},rs={key:1,class:"flex-1 flex flex-col h-full bg-stone-50 overflow-hidden"},is={class:"p-4 md:p-6 border-b-2 border-black bg-white flex items-center justify-between shrink-0"},ds={class:"flex items-center gap-3"},cs={class:"w-10 h-10 bg-amber-400 border-2 border-black shadow-brutal-xs flex items-center justify-center"},us={class:"p-4 md:p-6 bg-white border-b-2 border-black shrink-0"},ps={class:"flex gap-3"},bs={class:"flex-1 relative"},xs=["onKeydown"],ms=["disabled"],fs={class:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 no-scrollbar pb-10"},vs={key:0,class:"flex flex-col items-center justify-center py-10 opacity-20"},hs={key:1,class:"text-center py-10 opacity-30"},ks={class:"flex items-start justify-between gap-4"},gs={class:"flex-1"},ys={class:"flex items-center gap-2 mb-2"},ws=["onClick"],_s={class:"text-[9px] font-bold text-stone-300 uppercase"},Cs={class:"text-sm font-medium text-stone-800 leading-relaxed"},Ms=["onClick"],Ss={key:2,class:"flex-1 flex flex-col h-full bg-stone-50 overflow-hidden"},js={class:"p-4 md:p-6 border-b-2 border-black bg-white flex items-center justify-between shrink-0"},Ks={class:"flex items-center gap-3"},Ts={class:"w-10 h-10 bg-brand-teal border-2 border-black shadow-brutal-xs flex items-center justify-center"},$s={key:0,class:"p-4 md:p-6 bg-white border-b-2 border-black shrink-0"},Ps={class:"flex gap-3"},As={class:"flex-1 relative"},Vs=["disabled"],Bs={class:"flex-1 overflow-y-auto p-4 md:p-6 space-y-2 no-scrollbar pb-10"},Ds={key:0,class:"flex flex-col items-center justify-center py-10 opacity-20"},zs={key:1,class:"text-center py-10 opacity-30"},Ns=["onClick"],Fs={class:"flex items-center gap-4"},Us={class:"flex items-center gap-1.5 px-2 py-1 bg-stone-100 border border-black rounded text-[10px] font-black text-stone-800"},Es={key:1,class:"text-sm font-black text-stone-900 uppercase truncate max-w-[200px] md:max-w-md"},Hs={class:"flex items-center gap-1 ml-4 shrink-0"},Ls=["onClick"],Is=["onClick"],Rs={key:3,class:"flex-1 w-full h-full bg-stone-200 relative"},Ws={class:"lg:hidden absolute top-3 left-3 z-30 pointer-events-none"},Gs={class:"bg-black/80 backdrop-blur-md px-2 py-1 rounded border border-white/20 text-[9px] font-black uppercase text-brand-teal tracking-tighter"},qs=["src"],Js={key:1,class:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center bg-white"},Os={class:"w-20 h-20 rounded-full bg-stone-100 flex items-center justify-center mb-6 animate-bounce"},Qs={key:1,class:"flex-1 flex flex-col items-center justify-center gap-6 bg-stone-950"},Xs={__name:"StudyMode",setup(Ys){const Ce=Ne(),J=Ee(),{user:ne,isAdmin:Me,isModerator:Se}=Ge(),{showToast:w}=Le(),je=Ce.params.slug,i=u(null),d=u(null),O=u(!0),E=u(!1),p=u("naskah"),M=u(!1),H=u(null),g=u([]),P=u(""),Q=u(!1),X=u(!1),v=u([]),A=u(""),Y=u(!1),Z=u(!1),S=u(null),j=u(""),x=ke({show:!1,title:"",message:"",loading:!1,onConfirm:null}),Ke=async()=>{if(x.onConfirm){x.loading=!0;try{await x.onConfirm()}finally{x.loading=!1,x.show=!1}}},re=(n,e,h)=>{x.title=n,x.message=e,x.onConfirm=h,x.show=!0},U=I(()=>i.value&&ne.value&&i.value.user_id===ne.value.id),V=I(()=>Me.value||Se.value),_=ke({script_score:0,script_comment:"",cinematography_score:0,cinematography_comment:"",editing_score:0,editing_comment:"",production_score:0,production_comment:"",overall_feedback:""}),ie=[{id:"script",label:"Naskah & Cerita",scoreKey:"script_score",commentKey:"script_comment"},{id:"cinematography",label:"Teknis & Sinematografi",scoreKey:"cinematography_score",commentKey:"cinematography_comment"},{id:"editing",label:"Editing & Ritme",scoreKey:"editing_score",commentKey:"editing_comment"},{id:"production",label:"Produksi & Dokumen",scoreKey:"production_score",commentKey:"production_comment"}],Te=async()=>{O.value=!0;try{const e=(await T.get(`/api/films/${je}`)).data||{};e.link_video_utama=f(e.link_video_utama),e.link_trailer=f(e.link_trailer),e.link_bts=f(e.link_bts),e.file_naskah=f(e.file_naskah),e.file_storyboard=f(e.file_storyboard),e.file_rab=f(e.file_rab),e.gambar_poster=f(e.gambar_poster),i.value=e,e.file_naskah&&e.file_naskah!==f(null)?p.value="naskah":e.file_storyboard&&e.file_storyboard!==f(null)?p.value="storyboard":e.file_rab&&e.file_rab!==f(null)?p.value="rab":(V.value||U.value)&&(p.value="evaluation"),e.evaluation&&(d.value=e.evaluation,V.value&&Object.assign(_,e.evaluation)),e.film_id&&($e(e.film_id),Pe(e.film_id))}catch(n){console.error("[StudyMode] Failed to fetch film:",n),J.push("/")}finally{O.value=!1}},$e=async n=>{Q.value=!0;try{const e=await T.get(`/api/study-notes/${n}`);g.value=e.data}catch(e){console.error("[StudyMode] Failed to fetch notes:",e)}finally{Q.value=!1}},de=async()=>{if(!(!P.value.trim()||!i.value)){X.value=!0;try{const n=H.value?.getCurrentTime()||0,e=await T.post(`/api/study-notes/${i.value.film_id}`,{content:P.value,timestamp:n});g.value.push(e.data),g.value.sort((h,y)=>h.timestamp-y.timestamp),P.value="",w("Catatan waktu disimpan","success")}catch{w("Gagal menyimpan catatan","error")}finally{X.value=!1}}},Pe=async n=>{Y.value=!0;try{const e=await T.get(`/api/film-scenes/${n}`);v.value=e.data}catch(e){console.error("[StudyMode] Failed to fetch scenes:",e)}finally{Y.value=!1}},ce=async()=>{if(!A.value.trim()||!i.value)return;const n=H.value?.getCurrentTime()||0,e={title:A.value,start_time:n,film_id:i.value.film_id};v.value=[...v.value,e].sort((h,y)=>h.start_time-y.start_time),A.value="",ee()},ee=async()=>{if(i.value){Z.value=!0;try{const n=await T.post(`/api/film-scenes/${i.value.film_id}`,v.value.map(({title:e,start_time:h,end_time:y,description:a})=>({title:e,start_time:h,end_time:y||null,description:a||null})));v.value=n.data,w("Struktur adegan diperbarui","success")}catch(n){const e=n.data?.message||n.message||"Gagal menyimpan struktur adegan";w(e,"error")}finally{Z.value=!1}}},Ae=n=>{re("Hapus Adegan",`Apakah Anda yakin ingin menghapus adegan "${v.value[n].title}"?`,()=>{v.value.splice(n,1),ee()})},Ve=n=>{S.value=n,j.value=v.value[n].title},ue=()=>{S.value=null,j.value=""},pe=()=>{!j.value.trim()||S.value===null||(v.value[S.value].title=j.value.trim(),S.value=null,j.value="",ee())},Be=async n=>{re("Hapus Catatan","Catatan waktu ini akan dihapus secara permanen. Lanjutkan?",async()=>{try{await T.delete(`/api/study-notes/${n}`),g.value=g.value.filter(e=>e.note_id!==n),w("Catatan dihapus","success")}catch{w("Gagal menghapus catatan","error")}})},be=n=>{H.value?.seekTo(n)},xe=n=>{const e=Math.floor(n/3600),h=Math.floor(n%3600/60),y=Math.floor(n%60);return[e>0?e:null,h.toString().padStart(e>0?2:1,"0"),y.toString().padStart(2,"0")].filter(a=>a!==null).join(":")},De=async()=>{if(i.value){E.value=!0;try{const n=await T.post(`/api/evaluations/${i.value.film_id}`,_);d.value=n.data,w("Penilaian karya telah disimpan dan dikirim ke kreator.","success")}catch{w("Gagal menyimpan penilaian.","error")}finally{E.value=!1}}},me=I(()=>{if(!i.value)return null;switch(p.value){case"naskah":return i.value.file_naskah;case"storyboard":return i.value.file_storyboard;case"rab":return i.value.file_rab;default:return null}}),B=n=>{p.value=n,M.value=!1};return Fe(()=>{Te()}),Ue({title:I(()=>i.value?`Studi: ${i.value.judul} - PF Space`:"Loading...")}),(n,e)=>{const h=ge("Badge"),y=ge("Button");return s(),l("div",tt,[t("header",st,[t("button",{onClick:e[0]||(e[0]=a=>o(J).back()),class:"p-2 hover:bg-white/5 rounded-full transition-colors"},[r(o(ye),{class:"w-5 h-5"})]),t("h1",at,c(i.value?.judul||"Mode Studi"),1),t("button",{onClick:e[1]||(e[1]=a=>M.value=!M.value),class:"p-2 hover:bg-white/5 rounded-full transition-colors text-brand-teal"},[M.value?(s(),C(o(fe),{key:1,class:"w-6 h-6"})):(s(),C(o(Ze),{key:0,class:"w-6 h-6"}))])]),t("aside",{class:K(["fixed inset-y-0 left-0 w-72 bg-stone-900 border-r border-white/10 flex flex-col shrink-0 z-40 transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0",M.value?"translate-x-0":"-translate-x-full"])},[M.value?(s(),l("div",{key:0,onClick:e[2]||(e[2]=a=>M.value=!1),class:"lg:hidden fixed inset-0 bg-black/60 z-[-1]"})):m("",!0),t("div",lt,[t("button",{onClick:e[3]||(e[3]=a=>o(J).back()),class:"flex items-center text-sm text-white/50 hover:text-white transition-colors mb-6 group"},[r(o(ye),{class:"w-4 h-4 mr-2 transition-transform group-hover:-translate-x-1"}),e[16]||(e[16]=b(" Kembali ",-1))]),i.value?(s(),l("div",ot,[t("h1",nt,c(i.value.judul),1),e[17]||(e[17]=t("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-brand-teal/10 text-brand-teal border border-brand-teal/20 uppercase tracking-widest"},"Mode Studi",-1))])):m("",!0)]),t("nav",rt,[t("div",null,[e[26]||(e[26]=t("div",{class:"text-[10px] font-black text-stone-500 uppercase tracking-[0.2em] px-3 mb-4"},"Aset Produksi",-1)),t("div",it,[i.value?.file_naskah?(s(),l("button",{key:0,onClick:e[4]||(e[4]=a=>B("naskah")),class:K(["w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 border-2",p.value==="naskah"?"bg-brand-teal border-black shadow-[4px_4px_0px_#000] text-white -translate-y-0.5":"bg-stone-800/40 border-transparent text-stone-400 hover:bg-stone-800"])},[r(o(ve),{class:"w-4 h-4"}),e[18]||(e[18]=b()),e[19]||(e[19]=t("span",{class:"flex-1 text-left"},"Naskah",-1))],2)):m("",!0),i.value?.file_storyboard?(s(),l("button",{key:1,onClick:e[5]||(e[5]=a=>B("storyboard")),class:K(["w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 border-2",p.value==="storyboard"?"bg-brand-teal border-black shadow-[4px_4px_0px_#000] text-white -translate-y-0.5":"bg-stone-800/40 border-transparent text-stone-400 hover:bg-stone-800"])},[r(o(Je),{class:"w-4 h-4"}),e[20]||(e[20]=b()),e[21]||(e[21]=t("span",{class:"flex-1 text-left"},"Storyboard",-1))],2)):m("",!0),i.value?.file_rab?(s(),l("button",{key:2,onClick:e[6]||(e[6]=a=>B("rab")),class:K(["w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 border-2",p.value==="rab"?"bg-brand-teal border-black shadow-[4px_4px_0px_#000] text-white -translate-y-0.5":"bg-stone-800/40 border-transparent text-stone-400 hover:bg-stone-800"])},[r(o(Ye),{class:"w-4 h-4"}),e[22]||(e[22]=b()),e[23]||(e[23]=t("span",{class:"flex-1 text-left"},"RAB",-1))],2)):m("",!0),t("button",{onClick:e[7]||(e[7]=a=>B("scenes")),class:K(["w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 border-2",p.value==="scenes"?"bg-brand-teal border-black shadow-[4px_4px_0px_#000] text-white -translate-y-0.5":"bg-stone-800/40 border-transparent text-stone-400 hover:bg-stone-800"])},[r(o(le),{class:"w-4 h-4"}),e[24]||(e[24]=b()),e[25]||(e[25]=t("span",{class:"flex-1 text-left"},"Struktur Adegan",-1))],2)])]),V.value||U.value?(s(),l("div",dt,[e[28]||(e[28]=t("div",{class:"text-[10px] font-black text-stone-500 uppercase tracking-[0.2em] px-3 mb-4"},"Evaluasi Kurator",-1)),t("button",{onClick:e[8]||(e[8]=a=>B("evaluation")),class:K(["w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 border-2",p.value==="evaluation"?"bg-orange-500 border-black shadow-[4px_4px_0px_#000] text-white -translate-y-0.5":"bg-stone-800/40 border-transparent text-stone-400 hover:bg-stone-800"])},[r(o(te),{class:"w-4 h-4"}),e[27]||(e[27]=t("span",{class:"flex-1 text-left"},"Penilaian Karya",-1)),d.value?(s(),l("div",ct)):m("",!0)],2)])):m("",!0),t("div",null,[e[30]||(e[30]=t("div",{class:"text-[10px] font-black text-stone-500 uppercase tracking-[0.2em] px-3 mb-4"},"Pengamatan Pribadi",-1)),t("button",{onClick:e[9]||(e[9]=a=>B("notes")),class:K(["w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 border-2",p.value==="notes"?"bg-amber-400 border-black shadow-[4px_4px_0px_#000] text-black -translate-y-0.5":"bg-stone-800/40 border-transparent text-stone-400 hover:bg-stone-800"])},[r(o(oe),{class:"w-4 h-4"}),e[29]||(e[29]=t("span",{class:"flex-1 text-left"},"Catatan Waktu",-1)),g.value.length>0?(s(),C(h,{key:0,variant:"outline",class:"bg-white/10 text-white border-white/20 text-[10px]"},{default:R(()=>[b(c(g.value.length),1)]),_:1})):m("",!0)],2)])])],2),!O.value&&i.value?(s(),l("main",ut,[t("section",pt,[r(he,{name:"Pemutar Video"},{default:R(()=>[i.value.link_video_utama?(s(),C(qe,{key:0,ref_key:"videoPlayer",ref:H,src:i.value.link_video_utama,title:i.value.judul||"Video",poster:i.value.gambar_poster||null,storageKey:i.value?.film_id?`study-${i.value.film_id}`:i.value?.slug?`study-${i.value.slug}`:""},null,8,["src","title","poster","storageKey"])):(s(),l("div",bt,[r(o(et),{class:"w-16 h-16 opacity-10"}),e[31]||(e[31]=t("span",{class:"text-xs uppercase font-black tracking-widest"},"Video tidak tersedia",-1))]))]),_:1})]),t("section",xt,[p.value==="evaluation"?(s(),l("div",mt,[t("div",ft,[t("div",vt,[t("div",ht,[t("div",kt,[r(o(te),{class:"w-8 h-8 text-white"})]),e[32]||(e[32]=t("div",null,[t("h2",{class:"text-2xl font-display font-black text-stone-900 uppercase"},"Evaluasi & Feedback"),t("p",{class:"text-stone-500 text-xs font-bold uppercase tracking-wider"},"Khusus Moderator & Pemilik Karya")],-1))]),t("div",gt,[d.value?(s(),l("div",yt,[r(o(se),{class:"w-4 h-4"}),e[33]||(e[33]=b(" Karya Telah Dinilai ",-1))])):(s(),l("div",wt,[r(o(ae),{class:"w-4 h-4"}),e[34]||(e[34]=b(" Menunggu Penilaian ",-1))]))])]),t("div",_t,[d.value?(s(),l("div",Ct,[r(o(se),{class:"w-3 h-3"}),e[35]||(e[35]=b(" Telah Dinilai ",-1))])):(s(),l("div",Mt,[r(o(ae),{class:"w-3 h-3"}),e[36]||(e[36]=b(" Belum Dinilai ",-1))]))]),V.value?(s(),l("div",St,[d.value?(s(),l("div",jt,[t("div",Kt,[d.value.moderator?.image?(s(),l("img",{key:0,src:o(f)(d.value.moderator.image),class:"w-10 h-10 rounded-full border-2 border-black object-cover"},null,8,Tt)):m("",!0),t("div",$t,[e[37]||(e[37]=t("span",{class:"text-[10px] font-black uppercase text-stone-900 leading-none mb-1"},"Kurator Terakhir:",-1)),t("span",Pt,c(d.value.moderator?.name||"Moderator"),1)])]),t("div",At,[e[38]||(e[38]=t("span",{class:"text-[9px] font-black uppercase text-stone-400 mb-1"},"Terakhir Diperbarui:",-1)),t("span",Vt,c(new Date(d.value.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}))+" WIB",1)])])):m("",!0),t("div",Bt,[r(o(ae),{class:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),e[39]||(e[39]=t("p",{class:"text-xs text-blue-700 font-medium leading-relaxed"},[b(" Anda sedang dalam mode "),t("strong",null,"Moderator"),b(". Berikan penilaian objektif (1-10) dan feedback spesifik untuk setiap kategori aset yang tersedia. ")],-1))]),t("div",Dt,[(s(),l(D,null,W(ie,a=>t("div",{key:a.id,class:"bg-white border-2 border-black p-4 shadow-brutal-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none transition-all"},[t("div",zt,[t("label",Nt,c(a.label),1),t("div",Ft,[z(t("input",{type:"number",min:"0",max:"10","onUpdate:modelValue":k=>_[a.scoreKey]=k,class:"w-12 h-8 border-2 border-black text-center font-black text-brand-teal focus:outline-none bg-white"},null,8,Ut),[[N,_[a.scoreKey],void 0,{number:!0}]]),e[40]||(e[40]=t("span",{class:"text-[10px] font-bold text-stone-400"},"/10",-1))])]),z(t("textarea",{"onUpdate:modelValue":k=>_[a.commentKey]=k,placeholder:"Tulis masukan spesifik...",class:"w-full h-24 border-2 border-black p-2 text-xs font-medium focus:outline-none resize-none bg-stone-50 text-stone-900 placeholder:text-stone-400"},null,8,Et),[[N,_[a.commentKey]]])])),64))]),t("div",Ht,[e[41]||(e[41]=t("label",{class:"block text-sm font-black uppercase text-stone-900 mb-3"},"Kesimpulan & Arahan Pengembangan",-1)),z(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=a=>_.overall_feedback=a),placeholder:"Ceritakan apa yang bisa ditingkatkan secara keseluruhan...",class:"w-full h-32 border-2 border-black p-4 text-sm font-medium focus:outline-none bg-stone-50 text-stone-900 placeholder:text-stone-400"},null,512),[[N,_.overall_feedback]])]),t("div",Lt,[r(y,{onClick:De,disabled:E.value,class:"bg-brand-teal hover:bg-brand-teal/90 text-white border-2 border-stone-900 shadow-brutal px-6 py-2 rounded-none font-display font-black text-lg h-auto flex justify-center items-center gap-2"},{default:R(()=>[E.value?(s(),C(o(G),{key:0,class:"w-5 h-5 animate-spin"})):(s(),C(o(se),{key:1,class:"w-5 h-5"})),e[42]||(e[42]=b(" Publikasi Nilai ",-1))]),_:1},8,["disabled"])])])):U.value?(s(),C(he,{key:1,name:"Detail Evaluasi"},{default:R(()=>[d.value?(s(),l("div",Wt,[t("div",Gt,[t("div",qt,[d.value.moderator?.image?(s(),l("img",{key:0,src:o(f)(d.value.moderator.image),class:"w-10 h-10 rounded-full border-2 border-black object-cover"},null,8,Jt)):m("",!0),t("div",Ot,[e[45]||(e[45]=t("span",{class:"text-[10px] font-black uppercase text-stone-900 leading-none mb-1"},"Kurator Penilai:",-1)),t("span",Qt,c(d.value.moderator?.name||"Moderator"),1)])]),t("div",Xt,[e[46]||(e[46]=t("span",{class:"text-[9px] font-black uppercase text-stone-400 mb-1"},"Waktu Penilaian:",-1)),t("span",Yt,c(new Date(d.value.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}))+" WIB",1)])]),t("div",Zt,[(s(),l(D,null,W(ie,a=>t("div",{key:a.id,class:"bg-white border-2 border-black p-6 relative overflow-hidden"},[t("div",es,[b(c(d.value[a.scoreKey]),1),e[47]||(e[47]=t("span",{class:"text-[10px] text-stone-400 font-bold ml-0.5"},"/10",-1))]),t("h4",ts,c(a.label),1),d.value[a.commentKey]?(s(),l("p",ss,' "'+c(d.value[a.commentKey])+'" ',1)):(s(),l("p",as,"Tidak ada catatan spesifik."))])),64))]),t("div",ls,[t("div",os,[r(o(te),{class:"w-6 h-6 text-orange-400"}),e[48]||(e[48]=t("h3",{class:"text-xl font-display font-black uppercase tracking-wider"},"Kesimpulan Kurator",-1))]),t("p",ns,c(d.value.overall_feedback||"Belum ada umpan balik keseluruhan."),1)])])):(s(),l("div",It,[t("div",Rt,[r(o(G),{class:"w-8 h-8 text-stone-300 animate-spin"})]),e[43]||(e[43]=t("h3",{class:"text-xl font-display font-black text-stone-400 uppercase"},"Menunggu Review Kurator",-1)),e[44]||(e[44]=t("p",{class:"text-stone-400 text-sm max-w-sm mx-auto mt-2"},"Karya Anda telah masuk antrean penilaian. Kami akan memberikan notifikasi setelah kurator selesai memberikan feedback.",-1))]))]),_:1})):m("",!0)])])):p.value==="notes"?(s(),l("div",rs,[t("div",is,[t("div",ds,[t("div",cs,[r(o(oe),{class:"w-5 h-5 text-black"})]),e[49]||(e[49]=t("div",null,[t("h2",{class:"font-black uppercase text-sm md:text-base leading-none"},"Catatan Waktu"),t("p",{class:"text-[10px] text-stone-400 font-bold uppercase tracking-wider mt-1"},"Tautkan analisis Anda pada menit tertentu")],-1))])]),t("div",us,[t("div",ps,[t("div",bs,[z(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=a=>P.value=a),onKeydown:q(F(de,["exact","prevent"]),["enter"]),placeholder:"Tulis pengamatan di menit ini...",class:"w-full border-2 border-black p-3 text-xs font-medium focus:outline-none bg-stone-50 resize-none h-20 text-stone-900"},null,40,xs),[[N,P.value]]),e[50]||(e[50]=t("div",{class:"absolute bottom-2 right-2 text-[10px] font-black text-stone-300 uppercase"}," Tekan Enter untuk Simpan ",-1))]),t("button",{onClick:de,disabled:X.value||!P.value.trim(),class:"bg-brand-teal text-white border-2 border-black shadow-brutal-xs px-4 h-20 flex flex-col items-center justify-center gap-1 hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-none transition-all disabled:opacity-50 disabled:grayscale"},[r(o(we),{class:"w-5 h-5"}),e[51]||(e[51]=t("span",{class:"text-[9px] font-black uppercase"},"Simpan",-1))],8,ms)])]),t("div",fs,[Q.value?(s(),l("div",vs,[r(o(G),{class:"w-8 h-8 animate-spin"})])):g.value.length===0?(s(),l("div",hs,[r(o(oe),{class:"w-12 h-12 mx-auto mb-3"}),e[52]||(e[52]=t("p",{class:"text-xs font-black uppercase tracking-widest"},"Belum ada catatan waktu",-1))])):(s(!0),l(D,{key:2},W(g.value,a=>(s(),l("div",{key:a.note_id,class:"bg-white border-2 border-black p-4 shadow-brutal-xs hover:shadow-none hover:translate-x-[2px] transition-all group"},[t("div",ks,[t("div",gs,[t("div",ys,[t("button",{onClick:k=>be(a.timestamp),class:"inline-flex items-center gap-1.5 px-2 py-0.5 bg-stone-900 border border-black text-brand-teal text-[10px] font-black rounded hover:bg-black transition-colors"},[r(o(Xe),{class:"w-3 h-3"}),b(" "+c(xe(a.timestamp)),1)],8,ws),t("span",_s,c(o(Ie)(a.created_at)),1)]),t("p",Cs,c(a.content),1)]),t("button",{onClick:k=>Be(a.note_id),class:"p-2 text-stone-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100"},[r(o(_e),{class:"w-4 h-4"})],8,Ms)])]))),128))])])):p.value==="scenes"?(s(),l("div",Ss,[t("div",js,[t("div",Ks,[t("div",Ts,[r(o(le),{class:"w-5 h-5 text-white"})]),e[53]||(e[53]=t("div",null,[t("h2",{class:"font-black uppercase text-sm md:text-base leading-none"},"Struktur Adegan"),t("p",{class:"text-[10px] text-stone-400 font-bold uppercase tracking-wider mt-1"},"Daftar Bab & Segmentasi Cerita")],-1))])]),U.value||V.value?(s(),l("div",$s,[t("div",Ps,[t("div",As,[z(t("input",{"onUpdate:modelValue":e[12]||(e[12]=a=>A.value=a),onKeydown:q(ce,["enter"]),placeholder:"Judul adegan/bab baru...",class:"w-full border-2 border-black p-3 text-sm font-bold focus:outline-none bg-stone-50 h-12 text-stone-900"},null,544),[[N,A.value]])]),t("button",{onClick:ce,disabled:Z.value||!A.value.trim(),class:"bg-black text-white px-4 h-12 flex items-center justify-center gap-2 hover:bg-stone-800 transition-all disabled:opacity-50"},[r(o(we),{class:"w-4 h-4"}),e[54]||(e[54]=t("span",{class:"text-[10px] font-black uppercase"},"Tanda Adegan",-1))],8,Vs)]),e[55]||(e[55]=t("p",{class:"text-[9px] text-stone-400 font-bold uppercase mt-2"},"Adegan akan ditandai pada menit video saat ini.",-1))])):m("",!0),t("div",Bs,[Y.value?(s(),l("div",Ds,[r(o(G),{class:"w-8 h-8 animate-spin"})])):v.value.length===0?(s(),l("div",zs,[r(o(le),{class:"w-12 h-12 mx-auto mb-3"}),e[56]||(e[56]=t("p",{class:"text-xs font-black uppercase tracking-widest"},"Belum ada struktur adegan",-1))])):(s(!0),l(D,{key:2},W(v.value,(a,k)=>(s(),l("div",{key:k,class:"group flex items-center justify-between p-3 bg-white border-2 border-black hover:bg-stone-50 transition-all cursor-pointer shadow-brutal-xs hover:shadow-none translate-x-0 hover:translate-x-1",onClick:L=>be(a.start_time)},[t("div",Fs,[t("div",Us,[r(o(Oe),{class:"w-3 h-3 text-stone-800"}),b(" "+c(xe(a.start_time)),1)]),S.value===k?z((s(),l("input",{key:0,"onUpdate:modelValue":e[13]||(e[13]=L=>j.value=L),onClick:e[14]||(e[14]=F(()=>{},["stop"])),onKeydown:[q(pe,["enter"]),q(ue,["esc"])],class:"flex-1 border-b-2 border-brand-teal focus:outline-none bg-transparent text-sm font-black text-stone-900 uppercase py-0.5",autofocus:""},null,544)),[[N,j.value]]):(s(),l("span",Es,c(a.title),1))]),t("div",Hs,[S.value===k?(s(),l(D,{key:0},[t("button",{onClick:F(pe,["stop"]),class:"p-1.5 text-brand-teal hover:bg-brand-teal/10 rounded transition-colors"},[r(o(Re),{class:"w-4 h-4"})]),t("button",{onClick:F(ue,["stop"]),class:"p-1.5 text-stone-400 hover:bg-stone-100 rounded transition-colors"},[r(o(fe),{class:"w-4 h-4"})])],64)):U.value||V.value?(s(),l(D,{key:1},[t("button",{onClick:F(L=>Ve(k),["stop"]),class:"p-1.5 text-stone-300 hover:text-brand-teal transition-colors opacity-0 group-hover:opacity-100"},[r(o(Qe),{class:"w-3.5 h-3.5"})],8,Ls),t("button",{onClick:F(L=>Ae(k),["stop"]),class:"p-1.5 text-stone-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100"},[r(o(_e),{class:"w-3.5 h-3.5"})],8,Is)],64)):(s(),C(o(We),{key:2,class:"w-4 h-4 text-stone-200"}))])],8,Ns))),128))])])):(s(),l("div",Rs,[t("div",Ws,[t("div",Gs,c(p.value),1)]),me.value?(s(),l("iframe",{key:0,src:me.value+"#view=FitH&scrollbar=0&toolbar=0&navpanes=0",class:"absolute inset-0 w-full h-full border-0",frameborder:"0"},null,8,qs)):(s(),l("div",Js,[t("div",Os,[r(o(ve),{class:"w-10 h-10 text-stone-300"})]),e[57]||(e[57]=t("h3",{class:"font-display font-bold text-stone-900 text-xl mb-2"},"Pilih Dokumen Produksi",-1)),e[58]||(e[58]=t("p",{class:"text-sm text-stone-500 max-w-xs mx-auto font-body"},"Pilih salah satu dokumen di menu untuk mulai menganalisis teknik produksi film ini.",-1))]))]))])])):(s(),l("div",Qs,[...e[59]||(e[59]=[t("div",{class:"relative w-16 h-16"},[t("div",{class:"absolute inset-0 border-4 border-white/10 rounded-full"}),t("div",{class:"absolute inset-0 border-4 border-t-brand-teal rounded-full animate-spin"})],-1),t("p",{class:"text-xs font-black uppercase tracking-[0.3em] text-stone-400 animate-pulse"},"Menyiapkan Ruang Studi...",-1)])])),r(He,{show:x.show,"onUpdate:show":e[15]||(e[15]=a=>x.show=a),title:x.title,message:x.message,loading:x.loading,onConfirm:Ke},null,8,["show","title","message","loading"])])}}},da=ze(Xs,[["__scopeId","data-v-4706b5d0"]]);export{da as default};

import{e as le,g as r,o as n,a as e,D as C,C as d,$ as Ue,a0 as fe,n as f,h as i,k as o,a1 as be,r as b,p as k,c as u,L as B,a2 as Be,w as m,m as xe,R as ge,E as T,B as g,a3 as ye,a4 as Ae,F as U,q as A,u as ze,f as Re,a5 as Ee,i as Pe,a6 as He,H as Ke,a7 as Ne,a8 as K,V as te,A as se,a9 as Oe,aa as qe,ab as Ge,ac as ae,ad as We,N as ne,O as oe,z as Ze,G as Je,s as Xe,t as $,y as Ye,P as Qe,ae as et}from"./index-Co7LmOIS.js";import{V as tt}from"./VideoPlayer-D4wM0dQa.js";import{C as st}from"./calendar-BFC2Tsok.js";import{S as at}from"./share-2-lFkfKZVS.js";import{V as nt}from"./video-DFRQCraN.js";const ot=le("clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);const lt=le("corner-down-right",[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);const it=le("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),rt={class:"mb-12"},dt={class:"flex items-start gap-3 mb-4 md:mb-6"},ct={class:"text-lg md:text-3xl font-display font-semibold text-stone-800"},ut={class:"text-sm md:text-base text-justify font-body text-stone-700 leading-normal md:leading-8"},W={__name:"ContentSection",props:{title:{type:String,required:!0},color:{type:String,default:"red"}},setup(c){const V={red:"bg-red-500",teal:"bg-teal-600"};return(p,j)=>(n(),r("div",rt,[e("div",dt,[e("div",{class:C(["w-1.5 h-6 md:h-8 rounded-sm mt-0.5 md:mt-1",V[c.color]||V.red])},null,2),e("h2",ct,d(c.title),1)]),e("div",ut,[Ue(p.$slots,"default")])]))}},mt={key:0,class:"absolute -left-6 md:-left-10 top-0 bottom-0 border-l-2 border-stone-200"},vt={class:"flex gap-3 md:gap-4"},pt={class:"w-9 h-9 md:w-10 md:h-10 rounded-full border-2 border-slate-900 shadow-brutal-xs flex items-center justify-center text-xs md:text-sm font-bold flex-shrink-0 overflow-hidden bg-stone-100 relative"},ht=["src","alt"],ft={class:"flex-1 min-w-0"},bt={class:"flex items-center flex-wrap gap-2 mb-1"},xt={class:"font-display font-bold text-[13px] md:text-sm text-stone-900 capitalize tracking-tight"},gt={class:"text-[9px] md:text-xs text-stone-400 font-mono font-medium"},yt={class:"text-[12px] md:text-[14px] text-stone-700 leading-normal md:leading-relaxed whitespace-pre-wrap mb-2 font-body"},wt={class:"flex items-center gap-5"},_t=["disabled"],kt={key:0,class:"mt-4 p-3 md:p-4 bg-white border-2 border-slate-900 shadow-brutal-xs md:shadow-brutal relative overflow-hidden"},$t={class:"flex justify-end"},Ct={key:0},jt={__name:"CommentItem",props:{comment:{type:Object,required:!0},depth:{type:Number,default:0},maxDepth:{type:Number,default:5},isLoggedIn:{type:Boolean,default:!1},currentUser:{type:Object,default:()=>({})},canModerate:{type:Boolean,default:!1},deletingCommentIds:{type:Object,default:()=>new Set}},emits:["reply","delete"],setup(c,{emit:V}){const p=c,j=V,s=b(!1),D=b(""),w=b(!1),N=async()=>{if(D.value.trim()){w.value=!0;try{j("reply",{parent_id:p.comment.diskusi_id,isi_pesan:D.value.trim()}),D.value="",s.value=!1}finally{w.value=!1}}},I=k(()=>!p.isLoggedIn||!p.currentUser||!p.comment?!1:!!(p.currentUser.id&&p.comment.user_id&&p.currentUser.id===p.comment.user_id||p.canModerate));return(z,h)=>{const R=fe("CommentItem",!0);return n(),r("div",{class:C(["comment-item relative group",c.depth>0?"mt-3 ml-6 md:ml-10":"mt-2 border-b-2 border-stone-50 pb-3 last:border-0 last:pb-0"])},[c.depth>0?(n(),r("div",mt,[...h[5]||(h[5]=[e("div",{class:"absolute top-5 left-0 w-4 md:w-8 border-t-2 border-stone-200"},null,-1)])])):f("",!0),e("div",vt,[e("div",pt,[c.comment.user?.image?(n(),r("img",{key:0,src:c.comment.user.image,alt:c.comment.user.name,class:"w-full h-full object-cover"},null,8,ht)):(n(),r("div",{key:1,class:C(["w-full h-full flex items-center justify-center",c.depth%2===0?"bg-brand-orange text-stone-900":"bg-brand-teal text-white"])},d(c.comment.user?.name?.charAt(0)||"U"),3))]),e("div",ft,[e("div",bt,[e("span",xt,d(c.comment.user?.name||"Pengguna tidak dikenal"),1),e("span",gt,d(o(be)(c.comment.created_at,!0)),1)]),e("p",yt,d(c.comment.isi_pesan),1),e("div",wt,[c.isLoggedIn&&c.depth<c.maxDepth?(n(),r("button",{key:0,onClick:h[0]||(h[0]=y=>s.value=!s.value),class:"group/btn flex items-center gap-1.5 text-[10px] md:text-xs font-bold uppercase tracking-widest text-stone-400 hover:text-brand-teal transition-colors"},[i(o(lt),{class:"w-3.5 h-3.5 group-hover/btn:translate-x-0.5 transition-transform"}),e("span",null,d(s.value?"Batal":"Balas"),1)])):f("",!0),I.value?(n(),r("button",{key:1,onClick:h[1]||(h[1]=y=>j("delete",c.comment.diskusi_id)),disabled:c.deletingCommentIds.has(c.comment.diskusi_id),class:"group/btn flex items-center gap-1.5 text-[10px] md:text-xs font-bold uppercase tracking-widest text-stone-400 hover:text-brand-red transition-colors disabled:opacity-50"},[c.deletingCommentIds.has(c.comment.diskusi_id)?(n(),u(o(B),{key:0,class:"w-3.5 h-3.5 animate-spin"})):(n(),u(o(Be),{key:1,class:"w-3.5 h-3.5 group-hover/btn:scale-110 transition-transform"})),e("span",null,d(c.deletingCommentIds.has(c.comment.diskusi_id)?"Menghapus...":"Hapus"),1)],8,_t)):f("",!0)]),i(Ae,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0"},{default:m(()=>[s.value?(n(),r("div",kt,[h[7]||(h[7]=e("div",{class:"absolute top-0 left-0 w-1 md:w-1.5 h-full bg-brand-teal"},null,-1)),xe(e("textarea",{"onUpdate:modelValue":h[2]||(h[2]=y=>D.value=y),rows:"2",placeholder:"Tulis balasan...",class:"w-full p-2 md:p-3 border-2 border-slate-900 bg-stone-50 text-xs md:text-sm resize-none focus:bg-white focus:ring-0 focus:outline-none mb-2 font-body transition-colors"},null,512),[[ge,D.value]]),e("div",$t,[i(o(T),{size:"sm",class:"bg-brand-teal hover:bg-brand-teal/90 text-white rounded-none border-2 border-slate-900 shadow-brutal-xs hover:shadow-none hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold uppercase tracking-wider h-8 md:h-9",onClick:N,disabled:!D.value.trim()||w.value},{default:m(()=>[w.value?(n(),u(o(B),{key:0,class:"w-3 h-3 animate-spin mr-2"})):(n(),u(o(ye),{key:1,class:"w-3 h-3 mr-2"})),h[6]||(h[6]=g(" Kirim Balasan ",-1))]),_:1},8,["disabled"])])])):f("",!0)]),_:1}),c.comment.replies&&c.comment.replies.length>0?(n(),r("div",Ct,[(n(!0),r(U,null,A(c.comment.replies,y=>(n(),u(R,{key:y.diskusi_id,comment:y,depth:c.depth+1,"max-depth":c.maxDepth,"is-logged-in":c.isLoggedIn,"current-user":c.currentUser,"can-moderate":c.canModerate,"deleting-comment-ids":c.deletingCommentIds,onReply:h[3]||(h[3]=L=>z.$emit("reply",L)),onDelete:h[4]||(h[4]=L=>z.$emit("delete",L))},null,8,["comment","depth","max-depth","is-logged-in","current-user","can-moderate","deleting-comment-ids"]))),128))])):f("",!0)])])],2)}}},St={class:"min-h-screen flex flex-col bg-[#F2EEE3]"},Tt={key:0,class:"min-h-screen flex items-center justify-center pt-14"},Dt={class:"pt-20 bg-stone-900 min-h-[calc(100vh-30rem)]"},It={class:"flex flex-col lg:flex-row"},Lt={class:"flex-1 flex flex-col"},Ft={class:"w-full bg-black"},Mt={class:"aspect-video"},Vt={key:1,class:"w-full h-full flex items-center justify-center bg-stone-900"},Ut={class:"text-center"},Bt={class:"w-20 h-20 mx-auto mb-4 rounded-full bg-stone-800 flex items-center justify-center"},At={class:"bg-stone-900 p-4 md:p-5 border-t border-white/5"},zt={class:"flex flex-col md:flex-row md:items-start md:justify-between gap-3 mb-3"},Rt={class:"flex-1 min-w-0"},Et={class:"text-lg md:text-xl font-display font-bold text-white mb-1.5 truncate"},Pt={class:"flex flex-wrap items-center gap-3 text-sm text-stone-400"},Ht={key:1,class:"flex items-center gap-1.5"},Kt={key:2,class:"flex items-center gap-1.5"},Nt={class:"flex flex-wrap items-center gap-2"},Ot={class:"w-full lg:w-80 xl:w-96 shrink-0 bg-stone-800/50 border-t lg:border-t-0 lg:border-l border-white/10 flex flex-col"},qt={class:"p-4 border-b border-white/10"},Gt={class:"text-stone-500 text-xs mt-1"},Wt={class:"flex-1 overflow-y-auto p-3 space-y-2",style:{"max-height":"calc(100vh - 5rem - 5rem)"}},Zt=["onClick"],Jt={class:"w-32 h-[72px] bg-stone-700 flex-shrink-0 overflow-hidden rounded border border-white/10 relative"},Xt=["src","alt"],Yt={key:1,class:"w-full h-full flex items-center justify-center bg-stone-800"},Qt={key:2,class:"absolute inset-0 flex items-center justify-center bg-black/40"},es={key:3,class:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity"},ts={class:"absolute top-1 left-1 w-5 h-5 bg-black/70 rounded flex items-center justify-center"},ss={class:"text-white text-[10px] font-bold"},as={class:"flex-1 min-w-0 flex flex-col justify-center"},ns={class:"flex items-center gap-1.5 mb-1"},os={key:0,class:"text-center py-10"},ls={ref:"detailSection",class:"w-full max-w-7xl mx-auto px-4 md:px-8 py-10"},is={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12"},rs={class:"lg:col-span-2 space-y-8 animate-fade-in-up",style:{"animation-delay":"200ms",opacity:"0","animation-fill-mode":"forwards"}},ds={class:"flex flex-col sm:flex-row gap-6"},cs={class:"w-full max-w-[180px] mx-auto sm:mx-0 shrink-0"},us={class:"aspect-[3/4] bg-stone-800 border-2 border-slate-900 overflow-hidden shadow-brutal-sm"},ms=["src","alt"],vs={key:1,class:"w-full h-full flex items-center justify-center"},ps={class:"flex-1 min-w-0"},hs={class:"text-2xl md:text-3xl font-display font-bold text-stone-900 mb-3 break-words"},fs={class:"flex flex-wrap items-center gap-2 text-sm font-body text-stone-600 mb-4"},bs={key:1,class:"truncate"},xs={class:"text-stone-600 break-words"},gs=["innerHTML"],ys={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ws={class:"font-bold text-sm text-stone-900"},_s={class:"text-sm text-stone-600"},ks={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$s={class:"p-3 bg-stone-100 rounded"},Cs={class:"text-sm text-stone-600"},js={class:"p-3 bg-stone-100 rounded"},Ss={class:"text-sm text-stone-600"},Ts={class:"flex items-center gap-2 mb-4"},Ds={class:"text-sm text-stone-500 font-bold font-mono tracking-tight uppercase"},Is={key:0,class:"mb-8 p-3 md:p-4 bg-white border-2 border-stone-800 shadow-brutal-sm"},Ls={class:"flex gap-3 md:gap-4"},Fs={class:"w-10 h-10 bg-brand-orange border-2 border-stone-800 shadow-brutal-xs flex items-center justify-center text-stone-900 font-bold flex-shrink-0"},Ms={class:"flex-1 min-w-0"},Vs={class:"flex justify-end"},Us={key:1,class:"mb-8 p-4 md:p-6 bg-stone-100 border-2 border-dashed border-stone-400 text-center"},Bs={class:"space-y-6"},As={key:0,class:"text-center py-8"},zs={key:1,class:"text-center py-8 bg-stone-100 rounded border-2 border-stone-200 border-dashed"},Rs={key:2,class:"space-y-6"},Es={class:"lg:col-span-1 space-y-6 animate-fade-in-up",style:{"animation-delay":"400ms",opacity:"0","animation-fill-mode":"forwards"}},Ps={class:"space-y-3"},Hs={class:"flex items-center gap-3 min-w-0 flex-1"},Ks={class:"flex items-center gap-3 min-w-0 flex-1"},Ns={class:"flex items-center gap-3 min-w-0 flex-1"},Os={key:3,class:"text-sm text-stone-400 text-center py-4"},qs={class:"space-y-3 text-sm"},Gs={class:"flex justify-between gap-4"},Ws={class:"font-medium text-right truncate"},Zs={class:"flex justify-between gap-4"},Js={class:"font-medium text-right"},Xs={class:"flex justify-between gap-4"},Ys={class:"font-medium text-right truncate"},Qs={class:"flex justify-between gap-4"},ea={class:"font-medium text-right text-xs md:text-sm"},ta={key:0,class:"my-12 animate-fade-in-up",style:{"animation-delay":"500ms",opacity:"0","animation-fill-mode":"forwards"}},sa={class:"text-2xl font-black font-display text-stone-900 mb-6 uppercase tracking-wider flex items-center gap-2"},aa={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},na={class:"font-bold text-sm text-stone-900 line-clamp-1 mb-0.5"},oa={class:"text-xs text-stone-500 mb-0 flex items-center gap-1"},ua={__name:"ArchiveDetail",setup(c){const V=Ye(),p=Oe(),j=k(()=>V.params.slug||V.params.id),s=b(null),D="https://pfspace.aliefaditya.cloud",w=a=>!a||/^https?:\/\//i.test(a)?a:`${D}${a.startsWith("/")?a:`/${a}`}`;ze({title:()=>s.value?`${s.value.judul} - PF Space`:"Memuat Karya...",meta:[{name:"description",content:()=>s.value?.sinopsis||"Detail arsip karya."},{property:"og:title",content:()=>s.value?.judul},{property:"og:description",content:()=>s.value?.sinopsis},{property:"og:image",content:()=>s.value?.gambar_poster},{name:"twitter:card",content:"summary_large_image"}]});const{user:N,isLoggedIn:I,isAdmin:z,isModerator:h}=We(),R=b(!0),y=b({vote_count:0,has_voted:!1}),L=b(!1),E=b(null),P=b("film"),x=k(()=>s.value?.film_id),F=b({isInCollection:!1,processing:!1}),Z=k(()=>F.value.isInCollection),ie=k(()=>F.value.processing),O=b([]),J=b(!1),H=b(""),q=b(!1),X=b([]),re=b(!1),we=k(()=>z.value||h.value),{toast:de,showToast:S}=Ke(),ce=async()=>{if(!j.value){p.push("/");return}R.value=!0;try{const t=(await $.get(`/api/films/${j.value}`)).data||{};t.gambar_poster=w(t.gambar_poster),t.link_video_utama=w(t.link_video_utama),t.link_trailer=w(t.link_trailer),t.link_bts=w(t.link_bts),t.file_naskah=w(t.file_naskah),t.file_storyboard=w(t.file_storyboard),t.file_rab=w(t.file_rab),s.value=t,E.value=s.value?.link_video_utama||null,P.value="film",_e(),Ce(),Y(),$e()}catch(a){console.error("Failed to fetch film:",a),p.push("/")}finally{R.value=!1}},ue=async()=>{if(j.value)try{await $.post(`/api/films/${j.value}/views`)}catch(a){if(a?.status===429)return;console.warn("Increment views skipped:",a?.message||a)}},_e=async()=>{if(x.value)try{const t=(await $.get(`/api/votes/${x.value}`)).data||{};y.value={vote_count:t.vote_count??0,has_voted:typeof t.has_voted<"u"?!!t.has_voted:!!t.voted}}catch(a){console.error("Failed to fetch votes:",a)}},ke=async()=>{if(!I.value){p.push("/auth/login");return}if(x.value){L.value=!0;try{const a=await $.post(`/api/votes/${x.value}/toggle`,{});y.value={vote_count:a.data.vote_count,has_voted:a.data.voted}}catch(a){console.error("Failed to vote:",a)}finally{L.value=!1}}},Y=async()=>{if(x.value){J.value=!0;try{const a=await $.get(`/api/discussions/film/${x.value}`);O.value=a.data||[]}catch(a){console.error("Failed to fetch comments:",a)}finally{J.value=!1}}},$e=async()=>{if(x.value){re.value=!0;try{const a=await $.get(`/api/films/${x.value}/related?limit=6`);X.value=a.data||[]}catch(a){console.error("Failed to fetch related films:",a)}finally{re.value=!1}}},Ce=async()=>{if(!(!x.value||!I.value))try{const a=await $.get(`/api/collections/${x.value}/status`);F.value.isInCollection=a.data?.is_in_collection||!1}catch(a){console.error("Failed to fetch collection status:",a)}},je=async()=>{if(!I.value){p.push("/auth/login");return}if(!x.value)return;const a=F.value.isInCollection;F.value.processing=!0;try{const v=(await $.post(`/api/collections/${x.value}/toggle`,{})).data;let l=!a;v&&typeof v.is_in_collection=="boolean"&&(l=v.is_in_collection),F.value.isInCollection=l,S(l?"Ditambahkan ke koleksi":"Dihapus dari koleksi")}catch(t){F.value.isInCollection=a,S(t.message||"Gagal mengubah koleksi","error")}finally{F.value.processing=!1}},Se=async()=>{const a={title:s.value?.judul||"PF Space Archive",text:`Lihat karya ${s.value?.judul} di PF Space`,url:window.location.href};try{navigator.share?await navigator.share(a):(await navigator.clipboard.writeText(window.location.href),S("Link berhasil disalin!"))}catch(t){if(t.name!=="AbortError"){console.error("Error sharing:",t);try{await navigator.clipboard.writeText(window.location.href),S("Link berhasil disalin!")}catch{S("Gagal membagikan","error")}}}},me=a=>{const t=encodeURIComponent(window.location.href),v=encodeURIComponent(`Lihat karya ${s.value?.judul} di PF Space`),l={whatsapp:`https://wa.me/?text=${v}%20${t}`,twitter:`https://twitter.com/intent/tweet?text=${v}&url=${t}`};l[a]&&window.open(l[a],"_blank","noopener,noreferrer")},ve=async(a=null)=>{const t=!!a&&!!a.parent_id,v=t?a.isi_pesan:H.value.trim(),l=t?a.parent_id:null;if(!(!v||!I.value||!x.value)){q.value=!t;try{await $.post(`/api/discussions/film/${x.value}`,{isi_pesan:v,parent_id:l}),t||(H.value=""),await Y(),S(t?"Balasan terkirim":"Komentar terkirim")}catch(_){console.error("Failed to submit comment:",_),S(_.message||"Gagal mengirim komentar","error")}finally{q.value=!1}}},Te=async a=>{if(confirm("Hapus komentar ini? Semua balasan juga akan terhapus."))try{await $.delete(`/api/discussions/${a}`),await Y(),S("Komentar berhasil dihapus")}catch(t){console.error("Failed to delete comment:",t),S("Gagal menghapus komentar","error")}},De=k(()=>{let a=0;const t=v=>{a+=v.length,v.forEach(l=>{l.replies&&l.replies.length>0&&t(l.replies)})};return t(O.value),a}),Ie=k(()=>s.value?.file_naskah||s.value?.file_storyboard||s.value?.file_rab),Le=k(()=>{if(!s.value?.deskripsi_lengkap)return[];const a=s.value.deskripsi_lengkap,v=new DOMParser().parseFromString(a,"text/html"),l=Array.from(v.body.childNodes),_=[];let ee="Eksplorasi Karya",G=[];const he=()=>{if(G.length>0){const M=document.createElement("div");G.forEach(Ve=>M.appendChild(Ve.cloneNode(!0))),M.innerHTML.trim()&&_.push({title:ee,content:M.innerHTML})}};return l.forEach(M=>{M.nodeType===1&&M.tagName==="H2"?(he(),ee=M.textContent||"Section",G=[]):G.push(M)}),he(),_}),Fe=k(()=>!!E.value),Q=k(()=>{if(!s.value)return[];const a=[];return s.value.link_video_utama&&a.push({type:"film",label:"Karya Utama",description:s.value.judul,url:s.value.link_video_utama,icon:"film"}),s.value.link_trailer&&a.push({type:"trailer",label:"Trailer",description:`Trailer - ${s.value.judul}`,url:s.value.link_trailer,icon:"clapperboard"}),s.value.link_bts&&a.push({type:"bts",label:"Behind The Scenes",description:`BTS - ${s.value.judul}`,url:s.value.link_bts,icon:"video"}),a}),Me=a=>{E.value=a.url,P.value=a.type},pe=a=>{if(!a)return null;const t=a.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s]+)/);return t?`https://img.youtube.com/vi/${t[1]}/mqdefault.jpg`:null};return Re(()=>{ce(),ue()}),Ee(j,a=>{a&&(ce(),ue(),window.scrollTo(0,0))}),(a,t)=>{const v=fe("router-link");return n(),r("div",St,[i(Pe),i(Ne,He(o(de),{onClose:t[0]||(t[0]=l=>o(de).show=!1)}),null,16),R.value?(n(),r("div",Tt,[i(o(B),{class:"w-8 h-8 animate-spin text-stone-400"})])):s.value?(n(),r(U,{key:1},[e("section",Dt,[e("div",It,[e("div",Lt,[e("div",Ft,[e("div",Mt,[Fe.value?(n(),u(tt,{key:"vp-"+E.value,src:E.value,title:s.value.judul||"Video"},null,8,["src","title"])):(n(),r("div",Vt,[e("div",Ut,[e("div",Bt,[i(o(K),{class:"w-10 h-10 text-stone-600"})]),t[7]||(t[7]=e("p",{class:"text-stone-400 text-lg font-display mb-1"},"Video Belum Tersedia",-1)),t[8]||(t[8]=e("p",{class:"text-stone-500 text-sm"},"Karya ini belum memiliki video yang dapat ditonton",-1))])]))])]),e("div",At,[e("div",zt,[e("div",Rt,[e("h2",Et,d(s.value.judul),1),e("div",Pt,[s.value.creator?.id?(n(),u(v,{key:0,to:`/creator/${s.value.creator.id}`,class:"flex items-center gap-1.5 hover:text-brand-orange transition-colors"},{default:m(()=>[i(o(te),{class:"w-3.5 h-3.5"}),g(" "+d(s.value.creator?.name||"Unknown"),1)]),_:1},8,["to"])):(n(),r("span",Ht,[i(o(te),{class:"w-3.5 h-3.5"}),g(" "+d(s.value.creator?.name||"Unknown"),1)])),s.value.tahun_karya?(n(),r("span",Kt,[i(o(st),{class:"w-3.5 h-3.5"}),g(" "+d(s.value.tahun_karya),1)])):f("",!0),s.value.category?(n(),u(o(se),{key:3,variant:"secondary",class:"bg-white/10 text-stone-300 border-0 text-xs"},{default:m(()=>[g(d(s.value.category.nama_kategori),1)]),_:1})):f("",!0)])]),e("div",Nt,[Ie.value?(n(),u(o(T),{key:0,variant:"outline",size:"sm",class:"bg-brand-teal/20 text-brand-teal border-brand-teal/30 hover:bg-brand-teal/30 hover:text-brand-teal",onClick:t[1]||(t[1]=l=>o(p).push(`/archive/${s.value.slug}/study`))},{default:m(()=>[i(o(it),{class:"w-4 h-4 mr-1.5"}),t[9]||(t[9]=g(" Mode Studi ",-1))]),_:1})):f("",!0),i(o(T),{variant:y.value.has_voted?"default":"outline",size:"sm",class:C(y.value.has_voted?"bg-pink-600 hover:bg-pink-700 border-pink-600 text-white":"border-white/20 text-white/80 hover:bg-white/10 hover:text-white"),onClick:ke,disabled:L.value},{default:m(()=>[L.value?(n(),u(o(B),{key:0,class:"w-4 h-4 mr-1.5 animate-spin"})):(n(),u(o(qe),{key:1,class:C(["w-4 h-4 mr-1.5",y.value.has_voted?"fill-current":""])},null,8,["class"])),g(" "+d(y.value.vote_count)+" Vote ",1)]),_:1},8,["variant","class","disabled"]),i(o(T),{variant:"outline",size:"sm",class:C(["border-white/20 text-white/80 hover:bg-white/10 hover:text-white",Z.value?"border-brand-orange text-brand-orange":""]),onClick:je,disabled:ie.value},{default:m(()=>[ie.value?(n(),u(o(B),{key:0,class:"w-4 h-4 mr-1.5 animate-spin"})):(n(),u(o(Ge),{key:1,class:C(["w-4 h-4 mr-1.5",Z.value?"fill-current":""])},null,8,["class"])),g(" "+d(Z.value?"Tersimpan":"Simpan"),1)]),_:1},8,["disabled","class"]),i(o(T),{variant:"outline",size:"sm",class:"border-white/20 text-white/80 hover:bg-white/10 hover:text-white",onClick:Se},{default:m(()=>[i(o(at),{class:"w-4 h-4 mr-1.5"}),t[10]||(t[10]=g(" Share ",-1))]),_:1}),i(o(T),{variant:"outline",size:"sm",class:"bg-[#25D366]/20 text-[#25D366] border-[#25D366]/30 hover:bg-[#25D366]/30 px-2.5",onClick:t[2]||(t[2]=l=>me("whatsapp")),title:"Share to WhatsApp"},{default:m(()=>[i(o(ae),{class:"w-4 h-4"})]),_:1}),i(o(T),{variant:"outline",size:"sm",class:"bg-white/10 text-white border-white/20 hover:bg-white/20 px-2.5",onClick:t[3]||(t[3]=l=>me("twitter")),title:"Share to X"},{default:m(()=>[...t[11]||(t[11]=[e("svg",{viewBox:"0 0 24 24",class:"w-3.5 h-3.5 fill-current","aria-hidden":"true"},[e("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})],-1)])]),_:1})])])])]),e("div",Ot,[e("div",qt,[t[12]||(t[12]=e("h3",{class:"text-white font-bold text-sm uppercase tracking-wider"},"Video Playlist",-1)),e("p",Gt,d(Q.value.length)+" video tersedia",1)]),e("div",Wt,[(n(!0),r(U,null,A(Q.value,(l,_)=>(n(),r("div",{key:l.type,class:C(["flex gap-3 p-2.5 rounded-lg cursor-pointer transition-all duration-200 group",P.value===l.type?"bg-brand-red/20 border border-brand-red/40":"hover:bg-white/5 border border-transparent"]),onClick:ee=>Me(l)},[e("div",Jt,[pe(l.url)?(n(),r("img",{key:0,src:pe(l.url),alt:l.label,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Xt)):(n(),r("div",Yt,[l.icon==="film"?(n(),u(o(K),{key:0,class:"w-6 h-6 text-stone-500"})):l.icon==="clapperboard"?(n(),u(o(ot),{key:1,class:"w-6 h-6 text-stone-500"})):(n(),u(o(nt),{key:2,class:"w-6 h-6 text-stone-500"}))])),P.value===l.type?(n(),r("div",Qt,[...t[13]||(t[13]=[e("div",{class:"flex items-center gap-1"},[e("div",{class:"w-0.5 h-3 bg-brand-red rounded-full animate-pulse"}),e("div",{class:"w-0.5 h-4 bg-brand-red rounded-full animate-pulse",style:{"animation-delay":"150ms"}}),e("div",{class:"w-0.5 h-2.5 bg-brand-red rounded-full animate-pulse",style:{"animation-delay":"300ms"}})],-1)])])):(n(),r("div",es,[i(o(Qe),{class:"w-6 h-6 text-white fill-white"})])),e("div",ts,[e("span",ss,d(_+1),1)])]),e("div",as,[e("div",ns,[e("span",{class:C(["text-[10px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded",{"bg-brand-red/20 text-brand-red":l.type==="film","bg-brand-teal/20 text-brand-teal":l.type==="trailer","bg-brand-orange/20 text-brand-orange":l.type==="bts"}])},d(l.label),3)]),e("h4",{class:C(["text-sm font-medium line-clamp-2 transition-colors",P.value===l.type?"text-white":"text-white/70 group-hover:text-white"])},d(l.description),3)])],10,Zt))),128)),Q.value.length===0?(n(),r("div",os,[i(o(K),{class:"w-10 h-10 text-stone-600 mx-auto mb-3"}),t[14]||(t[14]=e("p",{class:"text-stone-500 text-sm"},"Tidak ada video tersedia",-1))])):f("",!0)])])])]),e("main",ls,[e("div",is,[e("div",rs,[e("div",ds,[e("div",cs,[e("div",us,[s.value.gambar_poster?(n(),r("img",{key:0,src:s.value.gambar_poster,alt:s.value.judul,class:"w-full h-full object-cover"},null,8,ms)):(n(),r("div",vs,[i(o(K),{class:"w-12 h-12 text-stone-600"})]))])]),e("div",ps,[e("h2",hs,d(s.value.judul),1),e("div",fs,[i(o(te),{class:"w-4 h-4 shrink-0"}),s.value.creator?.id?(n(),u(v,{key:0,to:`/creator/${s.value.creator.id}`,class:"hover:text-brand-red hover:underline font-medium truncate"},{default:m(()=>[g(d(s.value.creator?.name||"Unknown"),1)]),_:1},8,["to"])):(n(),r("span",bs,d(s.value.creator?.name||"Unknown"),1)),i(o(se),{variant:"default",class:"bg-stone-800 shrink-0"},{default:m(()=>[g(d(s.value.tahun_karya||"-"),1)]),_:1}),s.value.category?(n(),u(o(se),{key:2,variant:"outline",class:"bg-white shrink-0"},{default:m(()=>[g(d(s.value.category.nama_kategori),1)]),_:1})):f("",!0)]),t[15]||(t[15]=e("h3",{class:"font-semibold text-stone-900 mb-2"}," Synopsis ",-1)),e("p",xs,d(s.value.sinopsis||"Tidak ada sinopsis."),1)])]),s.value.deskripsi_lengkap?(n(!0),r(U,{key:0},A(Le.value,(l,_)=>(n(),u(W,{key:_,title:l.title,color:"red"},{default:m(()=>[e("div",{class:"prose prose-sm max-w-none font-body",innerHTML:l.content},null,8,gs)]),_:2},1032,["title"]))),128)):f("",!0),i(W,{title:"Cast & Crew",color:"red"},{default:m(()=>[s.value.crew&&s.value.crew.length>0?(n(),r("div",ys,[(n(!0),r(U,null,A(s.value.crew,(l,_)=>(n(),r("div",{key:_,class:"p-3 bg-stone-100 rounded"},[e("p",ws,d(l.jabatan),1),e("p",_s,d(l.anggota?.join(", ")),1)]))),128))])):(n(),r("div",ks,[e("div",$s,[t[16]||(t[16]=e("p",{class:"font-bold text-sm text-stone-900"},"Director",-1)),e("p",Cs,d(s.value.creator?.name||"Unknown"),1)]),e("div",js,[t[17]||(t[17]=e("p",{class:"font-bold text-sm text-stone-900"},"Producer",-1)),e("p",Ss,d(s.value.creator?.name||"Unknown"),1)]),t[18]||(t[18]=e("div",{class:"p-3 bg-stone-100 rounded"},[e("p",{class:"font-bold text-sm text-stone-900"}," Cinematographer "),e("p",{class:"text-sm text-stone-600"},"-")],-1)),t[19]||(t[19]=e("div",{class:"p-3 bg-stone-100 rounded"},[e("p",{class:"font-bold text-sm text-stone-900"},"Editor"),e("p",{class:"text-sm text-stone-600"},"-")],-1))]))]),_:1}),i(W,{title:"Diskusi",color:"red"},{default:m(()=>[e("div",Ts,[i(o(ae),{class:"w-5 h-5 shrink-0"}),e("span",Ds,d(De.value)+" KOMENTAR",1)]),o(I)?(n(),r("div",Is,[e("div",Ls,[e("div",Fs,d(o(N)?.name?.charAt(0)||"U"),1),e("div",Ms,[xe(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>H.value=l),rows:"3",placeholder:"Apa pendapatmu tentang karya ini?",class:"w-full p-2 md:p-3 border-2 border-stone-800 bg-white text-sm resize-none focus:ring-0 focus:outline-none mb-3 font-body"},null,512),[[ge,H.value]]),e("div",Vs,[i(o(T),{onClick:t[5]||(t[5]=l=>ve()),disabled:q.value||!H.value.trim(),class:"bg-brand-red hover:bg-red-600 text-white rounded-none border-2 border-stone-800 shadow-brutal-xs active:translate-x-[2px] active:translate-y-[2px] active:shadow-none transition-all text-sm"},{default:m(()=>[q.value?(n(),u(o(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(n(),u(o(ye),{key:1,class:"w-4 h-4 mr-2"})),t[20]||(t[20]=e("span",{class:"hidden sm:inline"},"Kirim Komentar",-1)),t[21]||(t[21]=e("span",{class:"sm:hidden"},"Kirim",-1))]),_:1},8,["disabled"])])])])])):(n(),r("div",Us,[t[23]||(t[23]=e("p",{class:"text-stone-600 mb-4 font-body text-sm md:text-base"}," Bergabung dalam diskusi untuk memberikan apresiasi atau masukan. ",-1)),i(o(T),{variant:"outline",class:"border-2 border-stone-800 shadow-brutal-xs text-sm",onClick:t[6]||(t[6]=l=>o(p).push("/auth/login"))},{default:m(()=>[...t[22]||(t[22]=[g("Login Untuk Berkomentar",-1)])]),_:1})])),e("div",Bs,[J.value?(n(),r("div",As,[i(o(B),{class:"w-8 h-8 animate-spin mx-auto text-stone-400"})])):O.value.length===0?(n(),r("div",zs,[i(o(ae),{class:"w-12 h-12 text-stone-300 mx-auto mb-2"}),t[24]||(t[24]=e("p",{class:"text-stone-500 font-body text-sm md:text-base"}," Belum ada diskusi. Jadilah yang pertama berkomentar! ",-1))])):(n(),r("div",Rs,[(n(!0),r(U,null,A(O.value,l=>(n(),u(jt,{key:l.diskusi_id,comment:l,"is-logged-in":o(I),"current-user":o(N),"can-moderate":we.value,onReply:ve,onDelete:Te},null,8,["comment","is-logged-in","current-user","can-moderate"]))),128))]))])]),_:1})]),e("div",Es,[i(W,{title:"Learning Assets",color:"teal"},{default:m(()=>[e("div",Ps,[s.value.file_naskah?(n(),u(v,{key:0,to:{name:"AssetDetail",params:{archiveSlug:s.value.slug,assetSlug:"naskah-film"}},class:"flex items-center justify-between p-3 bg-stone-100 hover:bg-stone-200 transition-colors group"},{default:m(()=>[e("div",Hs,[i(o(ne),{class:"w-5 h-5 text-brand-red shrink-0"}),t[25]||(t[25]=e("div",{class:"min-w-0 flex-1"},[e("span",{class:"font-medium text-sm block truncate"},"Naskah Karya"),e("span",{class:"text-xs text-stone-500"},"PDF")],-1))]),i(o(oe),{class:"w-4 h-4 text-stone-400 group-hover:text-brand-red transition-colors shrink-0 ml-2"})]),_:1},8,["to"])):f("",!0),s.value.file_storyboard?(n(),u(v,{key:1,to:{name:"AssetDetail",params:{archiveSlug:s.value.slug,assetSlug:"storyboard"}},class:"flex items-center justify-between p-3 bg-stone-100 hover:bg-stone-200 transition-colors group"},{default:m(()=>[e("div",Ks,[i(o(ne),{class:"w-5 h-5 text-brand-teal shrink-0"}),t[26]||(t[26]=e("div",{class:"min-w-0 flex-1"},[e("span",{class:"font-medium text-sm block truncate"},"Storyboard"),e("span",{class:"text-xs text-stone-500"},"PDF")],-1))]),i(o(oe),{class:"w-4 h-4 text-stone-400 group-hover:text-brand-teal transition-colors shrink-0 ml-2"})]),_:1},8,["to"])):f("",!0),s.value.file_rab?(n(),u(v,{key:2,to:{name:"AssetDetail",params:{archiveSlug:s.value.slug,assetSlug:"rab"}},class:"flex items-center justify-between p-3 bg-stone-100 hover:bg-stone-200 transition-colors group"},{default:m(()=>[e("div",Ns,[i(o(ne),{class:"w-5 h-5 text-brand-orange shrink-0"}),t[27]||(t[27]=e("div",{class:"min-w-0 flex-1"},[e("span",{class:"font-medium text-sm block truncate"},"RAB (Budget)"),e("span",{class:"text-xs text-stone-500"},"PDF")],-1))]),i(o(oe),{class:"w-4 h-4 text-stone-400 group-hover:text-brand-orange transition-colors shrink-0 ml-2"})]),_:1},8,["to"])):f("",!0),!s.value.file_naskah&&!s.value.file_storyboard&&!s.value.file_rab?(n(),r("p",Os," Tidak ada dokumen ")):f("",!0)])]),_:1}),i(o(Je),null,{default:m(()=>[i(o(Ze),{class:"p-4"},{default:m(()=>[t[32]||(t[32]=e("h3",{class:"font-bold mb-4 text-base"},"Informasi Karya",-1)),e("div",qs,[e("div",Gs,[t[28]||(t[28]=e("span",{class:"text-stone-500 shrink-0"},"Kategori",-1)),e("span",Ws,d(s.value.category?.nama_kategori||"-"),1)]),e("div",Zs,[t[29]||(t[29]=e("span",{class:"text-stone-500 shrink-0"},"Tahun",-1)),e("span",Js,d(s.value.tahun_karya||"-"),1)]),e("div",Xs,[t[30]||(t[30]=e("span",{class:"text-stone-500 shrink-0"},"Creator",-1)),e("span",Ys,d(s.value.creator?.name||"-"),1)]),e("div",Qs,[t[31]||(t[31]=e("span",{class:"text-stone-500 shrink-0"},"Dipublikasi",-1)),e("span",ea,d(o(be)(s.value.created_at)),1)])])]),_:1})]),_:1})])]),X.value.length>0?(n(),r("div",ta,[e("h2",sa,[i(o(K),{class:"w-6 h-6 text-brand-orange"}),t[33]||(t[33]=g(" Karya Serupa ",-1))]),e("div",aa,[(n(!0),r(U,null,A(X.value,l=>(n(),u(et,{key:l.film_id,archive:l,variant:"portrait","content-class":"p-3",class:"cursor-pointer",onClick:_=>o(p).push(`/archive/${l.slug}`)},{content:m(()=>[e("h3",na,d(l.judul),1),e("p",oa,d(l.creator?.name),1)]),_:2},1032,["archive","onClick"]))),128))])])):f("",!0)],512)],64)):f("",!0),i(Xe)])}}};export{ua as default};

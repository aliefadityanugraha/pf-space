import{g as i,h as t,a as s,w as o,r as d,k as a,a0 as b,B as m,C as _,U as h,E as v,aj as S,M as B,l as C,c as x,n as y,L as V,az as E,o as l,t as L}from"./index-DcC-Gx9C.js";import{A as g}from"./arrow-left-BpPp39zC.js";const A={class:"min-h-screen bg-brand-cream flex flex-col items-center justify-center px-4 py-12"},N={key:0,class:"text-center py-8"},j={class:"w-16 h-16 bg-brand-teal/20 rounded-full flex items-center justify-center mx-auto mb-4"},F={class:"text-stone-400 font-body mb-6"},M={class:"text-white"},R={class:"relative"},$={key:1},z={key:0},D={__name:"Forgot",setup(P){const n=d(""),u=d(!1),r=d(!1),c=d(""),k=async()=>{if(n.value){r.value=!0,c.value="";try{await L.post("/api/auth/forgot-password",{email:n.value}),u.value=!0}catch(p){c.value=p.message||"Gagal mengirim link reset. Silakan coba lagi."}finally{r.value=!1}}};return(p,e)=>{const f=h("router-link");return l(),i("div",A,[t(E,{title:"PF Space",subtitle:"Reset Access Code"},{footer:o(()=>[u.value?y("",!0):(l(),i("div",z,[t(f,{to:"/auth/login",class:"text-sm text-amber-500 font-body hover:text-amber-400 inline-flex items-center gap-2"},{default:o(()=>[t(a(g),{class:"w-4 h-4"}),e[7]||(e[7]=m(" Back to Login ",-1))]),_:1})]))]),default:o(()=>[u.value?(l(),i("div",N,[s("div",j,[t(a(b),{class:"w-8 h-8 text-brand-teal"})]),e[4]||(e[4]=s("h2",{class:"text-xl font-display text-white mb-2"},"Check Your Email",-1)),s("p",F,[e[1]||(e[1]=m(" We've sent a password reset link to",-1)),e[2]||(e[2]=s("br",null,null,-1)),s("span",M,_(n.value),1)]),t(f,{to:"/auth/login"},{default:o(()=>[t(a(v),{variant:"outline",class:"bg-stone-900 border-stone-700 text-white hover:bg-stone-800"},{default:o(()=>[t(a(g),{class:"w-4 h-4 mr-2"}),e[3]||(e[3]=m(" Back to Login ",-1))]),_:1})]),_:1})])):(l(),i("form",{key:1,onSubmit:S(k,["prevent"]),class:"space-y-6"},[e[6]||(e[6]=s("p",{class:"text-stone-400 font-body text-center mb-6"}," Enter your email address and we'll send you a link to reset your access code. ",-1)),s("div",null,[e[5]||(e[5]=s("label",{class:"block text-white font-body mb-2"},"Email",-1)),s("div",R,[t(a(B),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),t(a(C),{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=w=>n.value=w),type:"email",placeholder:"Enter your email...",class:"pl-12 bg-stone-800 border-stone-700 text-white placeholder:text-stone-500",required:""},null,8,["modelValue"])])]),t(a(v),{variant:"destructive",class:"w-full",size:"lg",type:"submit",disabled:r.value},{default:o(()=>[r.value?(l(),x(a(V),{key:0,class:"w-5 h-5 mr-2 animate-spin"})):(l(),i("span",$,"Send Reset Link")),r.value?y("",!0):(l(),x(a(b),{key:2,class:"w-5 h-5 ml-2"}))]),_:1},8,["disabled"])],32))]),_:1}),e[8]||(e[8]=s("p",{class:"mt-8 text-xs text-stone-600 font-body uppercase tracking-wide"}," Â© 2025 PF Space Repository. All rights reserved. ",-1))])}}};export{D as default};
